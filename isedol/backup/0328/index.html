<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>이세돌 팬 페이지 SPA</title>
    <!-- Swiper CSS CDN -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <!-- Swiper JS CDN -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" />
    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
      /* 기존 스타일 유지 */
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: "Kanit", sans-serif; line-height: 2; font-weight: bold; background-color: black; color: white; padding-bottom: 100px; }
      .container { max-width: 1200px; margin: 0 auto; padding: 10px; }
      header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; }
      header .left, header .center, header .right { flex: 1; }
      header .left { text-align: left; }
      header .left .logo img { width: min(10vw, 100px); height: 100%; }
      header .center { text-align: center; }
      header .right { text-align: right; }
      .nav a { margin: 0 6px; text-decoration: none; color: white; cursor: pointer; font-weight: bold; }
      .profile { display: inline-flex; align-items: center; }
      .profile-card { width: 40px; height: 40px; background-color: gray; border-radius: 50%; margin-right: 10px; flex-shrink: 0; }
      .guest-name { margin-right: 10px; }
      .right .profile > button { background-color: #9b59b6; width: max(4vw, 80px); height: max(2vh, 44px); color: white; border: none; border-radius: 2rem; font-weight: bold; margin-left: 0.2rem; cursor: pointer; }
      .main-content section { margin: 20px 0; padding: 40px; text-align: center; }

      /* SPA 페이지 섹션 */
      .page { display: none; }
      .page.active { display: block; }

      /* 로딩 페이지 스타일 */
      #page-loading { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 300; }
      .loading-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; }
      .loading-video { width: 100%; height: 100%; pointer-events: none; filter: brightness(0.6); }
      .loading-logo { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
      .loading-logo img { width: min(40vw, 200px); height: auto; }
      .loading-progress { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 80%; max-width: 500px; }
      .progress-bar { width: 100%; height: 8px; background: #444; border-radius: 4px; overflow: hidden; }
      .progress-fill { width: 0%; height: 100%; background: #9b59b6; transition: width 0.3s ease; }
      .progress-percent { text-align: center; margin-top: 5px; color: #fff; font-size: 0.9em; }

      /* 배너 섹션 */
      #banner .main_banner { position: relative; }
      #banner .swiper-container { width: 100%; height: max(20vw, 300px); overflow: hidden; }
      #banner .swiper-slide { display: flex; align-items: center; justify-content: center; font-size: 1.5em; font-weight: bold; color: white; }
      #banner .swiper-slide img { width: 80%; object-fit: contain; }
      .swiper-button-next, .swiper-button-prev { color: white; }
      .swiper-pagination-bullet { background: white; }

      /* MEMBER 섹션 */
      #member { height: min(18vh, 400px); background: none; padding: 0; }
      #main-member { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; position: relative; overflow: hidden; }
      .member-icons { display: flex; justify-content: space-around; align-items: center; width: 100%; transition: all 2.5s ease; }
      .member-icon { width: 80px; height: 80px; border-radius: 50%; background-color: #9b59b6; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; cursor: pointer; transition: transform 1.5s ease, opacity 1.5s ease, background-color 0.3s ease; }
      .member-icon:hover { transform: scale(1.1); box-shadow: 0 0 10px white; background-color: #c0392b; }
      .member-icons.fold .member-icon[data-index="1"] { transform: translateX(150px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="2"] { transform: translateX(80px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="3"] { transform: translateX(30px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="4"] { transform: translateX(-30px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="5"] { transform: translateX(-80px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="6"] { transform: translateX(-150px); opacity: 0; }
      .member-detail { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; color: black; border-radius: 10px; padding: 20px; opacity: 0; transform: scale(0); transition: transform 1s ease, opacity 1s ease; }
      .member-detail.active { display: block; opacity: 1; transform: scale(1); }
      .member-detail-content { display: flex; gap: 20px; height: 100%; }
      .detail-left, .detail-right { flex: 1; }
      .detail-left { display: flex; flex-direction: row; justify-content: space-between; gap: 10px; height: 100%; }
      .detail-photo { width: 80px; height: 100%; border-radius: 5px; object-fit: cover; }
      .detail-right { display: flex; align-items: center; justify-content: center; font-size: 1.1em; }
      .detail-close { position: absolute; top: 10px; right: 10px; background: red; border: none; color: white; font-size: 1em; font-weight: bold; padding: 5px 10px; border-radius: 50%; cursor: pointer; z-index: 10; transition: opacity 0.5s ease; }

      /* 최신곡 섹션 */
      .latest-song-wrapper { display: flex; gap: 20px; flex-wrap: wrap; }
      .album-art-container { flex: 1; min-width: 250px; position: relative; height: 315px; perspective: 1000px; overflow: hidden; }
      .album-art-container .card { position: absolute; width: 100%; height: 100%; border-radius: 10px; transition: transform 0.5s ease, opacity 0.5s ease; display: flex; align-items: center; justify-content: center; font-size: 1.2em; font-weight: bold; }
      .album-art-container .card.card1 { background-color: #444; opacity: 1; transform: rotate(0deg); transition: all 0.5s ease; }
      .album-art-container .card.card2 { background-color: #888; opacity: 0; transform: rotate(0deg); transition: all 1s ease; }
      .card.card1, .card.card2 { width: 100%; object-fit: contain; }
      .album-art-container:hover .card.card1 { transform: rotate(-360deg); opacity: 0; transition: all 1s ease; }
      .album-art-container:hover .card.card2 { transform: rotate(360deg); opacity: 1; transition: all 0.5s ease; }
      .song-icons { flex: 1; min-width: 250px; display: flex; justify-content: center; align-items: center; transition: all 2s ease; }
      .song-icons .icon-item { display: inline-flex; align-items: center; margin: 0 10px; transition: all 2s ease; }
      .song-icons .icon-item .icon { width: 40px; height: 40px; background-color: #666; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9em; color: white; }
      .song-icons .icon-item span { display: none; margin-left: 0; opacity: 0; white-space: nowrap; transition: opacity 0.5s ease, margin-left 0.5s ease; }
      .song-icons.vertical { flex-direction: column; align-items: flex-start; }
      .song-icons.vertical .icon-item { margin: 10px 0; }
      .song-icons.vertical .icon-item span { opacity: 1; margin-left: 10px; }

      /* VIDEO 섹션 */
      #video { padding: 20px 0; position: relative; }
      #video h2 { margin-bottom: 20px; }
      .video-container { position: relative; height: 700px; overflow: hidden; padding-inline: 4vw; }
      .video-card { position: absolute; width: 150px; height: 150px; background: #777; border-radius: 10px; text-align: center; line-height: 150px; font-weight: bold; transition: all 0.5s ease; opacity: 0; }
      .video-card.animate { opacity: 1; transform: translateY(0); }
      .float-animation { animation: float 3s ease-in-out infinite; }
      @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }
      .video-card.active { z-index: 10; }
      .video-card.hidden { opacity: 0 !important; pointer-events: none; }
      .close-btn { position: absolute; top: 10px; right: 10px; background: red; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; display: none; z-index: 20; }
      .close-btn.show { display: block; }

      /* AWARD 섹션 */
      #award { padding: 40px 0; }
      #award h2 { margin-bottom: 20px; }
      .reward-row { position: relative; overflow: hidden; margin: 20px 0; }
      .reward-slider { display: flex; width: calc(200%); animation: slideLTR 20s linear infinite; }
      .reward-row[data-direction="rtl"] .reward-slider { animation: slideRTL 20s linear infinite; }
      .reward-card { flex: 0 0 calc(100%/6); max-width: calc(100%/6); height: 100px; margin: 0 5px; background: #555; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; border-radius: 10px; }
      .fade { position: absolute; top: 0; width: 100px; height: 100%; pointer-events: none; z-index: 2; }
      .fade.fade-left { left: 0; background: linear-gradient(to right, #222, transparent); }
      .fade.fade-right { right: 0; background: linear-gradient(to left, #222, transparent); }
      @keyframes slideLTR { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      @keyframes slideRTL { 0% { transform: translateX(-50%); } 100% { transform: translateX(0); } }

      /* Music Playbar */
      #playbar { position: fixed; bottom: 0; left: 0; width: 100%; height: 100px; background: #222; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; z-index: 100; border-top: 2px solid white; }
      #playbar .pb-left { flex: 1; display: flex; align-items: center; }
      #playbar .pb-center { flex: 3; display: flex; flex-direction: column; align-items: center; justify-content: center; }
      #playbar .pb-right { flex: 1; display: flex; align-items: center; }
      #playbar .pb-left { justify-content: flex-start; }
      #playbar .pb-left .album-art { width: 130px; height: 80px; background: #444; background-image: url('source/kidding.jpg'); background-size: cover; background-position: center; }
      #playbar .pb-left .song-info { display: flex; flex-direction: column; justify-content: center; margin-left: 20px; }
      #playbar .pb-left .song-info span { margin: 5px 0; }
      #playbar .pb-center .controls { display: flex; gap: 10px; margin-bottom: 10px; }
      #playbar .pb-center .controls .btn img { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
      #playbar .pb-center .time-info { display: flex; gap: 10px; align-items: center; width: 100%; }
      #playbar .pb-center .time-info .elapsed, #playbar .pb-center .time-info .remaining { width: 60px; text-align: center; }
      #playbar .pb-center .time-info .progress { flex: 1; }
      #playbar .pb-center .time-info .progress input[type=range] { width: 100%; -webkit-appearance: none; background: #444; height: 5px; border-radius: 5px; }
      #playbar .pb-center .time-info .progress input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 15px; height: 15px; background: #9b59b6; border-radius: 50%; cursor: pointer; }
      #playbar .pb-right { flex-direction: column; justify-content: center; align-items: center; }
      #playbar .pb-right .volume-control { width: 80%; }
      #playbar .pb-right .volume-control input[type=range] { width: 100%; -webkit-appearance: none; background: #444; height: 10px; border-radius: 5px; }
      #playbar .pb-right .volume-control input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 15px; height: 15px; background: #9b59b6; border-radius: 50%; cursor: pointer; }
      #playbar .pb-right .volume-percentage { margin-top: 5px; text-align: center; }

      /* FOOTER 섹션 */
      footer { display: flex; justify-content: center; align-items: center; padding: 40px 0; }
      footer .footer-container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; width: 100%; }
      footer .footer-left, footer .footer-right { flex: 1; display: flex; justify-content: center; align-items: center; }
      .image-group { position: relative; width: 300px; height: 200px; transition: transform 1.5s ease-out; transform: translateX(-400%); }
      .footer-left.animate .image-group { transform: translateX(30%); }
      .shape-rect { position: absolute; width: 100%; height: 100%; top: 10px; left: 10px; z-index: 1; }
      .shape-circle { position: absolute; height: 88%; border-radius: 50%; top: 24px; left: 48px; z-index: 2; animation: rotate360 4s linear infinite; }
      @keyframes rotate360 { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      .shape-triangle { position: absolute; width: 100%; height: 100%; top: 16px; left: 11px; z-index: 3; }
      .footer-right { flex-direction: column; }
      .footer-right p { width: 100%; margin: 5px 0; text-align: left; padding-left: 4rem; }
      footer .footer-container > div { display: flex; flex-direction: column; align-items: center; justify-content: center; }

      /* 반응형 디자인 */
      @media (max-width: 768px) {
        header { flex-direction: column; align-items: flex-start; }
        header .left, header .center, header .right { width: 100%; text-align: left; margin-bottom: 10px; }
        .nav a { margin: 0 8px; }
        .swiper-container { height: 200px; }
        .album-art-container { height: 200px; }
        .member-icons { flex-wrap: wrap; gap: 8px; }
        .member-icon { width: 50px; height: 50px; }
        .reward-card { flex: 0 0 calc(100%/6); max-width: calc(100%/5); height: min(14vh, 150px); margin: 0 3px; }
        .fade { width: 50px; }
        .video-card { width: 100px; height: 100px; line-height: 100px; }
        footer { flex-direction: column; }
        footer .footer-container { flex-direction: column; }
        footer .footer-left, footer .footer-right { margin: 10px 0; }
        footer .footer-right p { text-align: center; padding: 0; }
        .footer-left.animate .image-group { transform: translateX(-4%); }
        .video-container { height: auto; padding: 20px; display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: auto; gap: 10px; justify-items: center; }
        .video-card { position: relative; opacity: 1; transition: all 0.5s ease; }
        .video-card.active { position: absolute; }
        .close-btn { top: 5px; right: 5px; }
        .board-grid { grid-template-columns: 1fr; }
      }

      /* MEMBER 페이지 전용 스타일 */
      .member-slider { position: relative; overflow: hidden; height: 12vh; margin-bottom: 20px; background: #111; }
      .member-slider-wrapper { display: flex; height: 100%; animation: memberSlideLeft 10s linear infinite; }
      .member-slider-card { flex: 0 0 auto; width: 200px; height: 100%; margin-right: 10px; background-color: #555; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: background-color 0.5s ease; }
      .member-slider-card.video-mode { background-color: #ff6600; }
      .member-slider-fade { position: absolute; top: 0; width: 50px; height: 100%; pointer-events: none; z-index: 2; }
      .member-slider-fade-left { left: 0; background: linear-gradient(to right, black, transparent); }
      .member-slider-fade-right { right: 0; background: linear-gradient(to left, black, transparent); }
      @keyframes memberSlideLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
      #member-info { text-align: center; padding: 10px 0; }
      .member-icons-row { display: flex; justify-content: space-around; margin-bottom: 20px; }
      .member-icons-row .mem-icon { position: relative; width: 80px; height: 80px; border-radius: 10%; overflow: hidden; cursor: pointer; }
      .mem-icon .icon-default, .mem-icon .icon-hover { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; transition: opacity 0.3s ease; }
      .mem-icon .icon-default { opacity: 1; }
      .mem-icon .icon-hover { opacity: 0; }
      .mem-icon:hover .icon-default { opacity: 0; }
      .mem-icon:hover .icon-hover { opacity: 1; }
      .member-info-display .member-info-content { background: #222; color: #fff; padding: 10px; margin: 5px auto; width: 80%; border-radius: 5px; text-align: left; }

      /* BOARD 페이지 스타일 */
      .board-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 1200px; margin: 0 auto; }
      .board-box { background: #222; border: 1px solid #444; border-radius: 5px; display: flex; flex-direction: column; height: 300px; }
      .board-header { flex: 1; display: flex; justify-content: space-between; align-items: center; padding: 0 10px; border-bottom: 1px solid #444; }
      .board-header .board-title { font-size: 1.2em; }
      .board-header .board-add { background: #9b59b6; border: none; color: white; font-size: 1.5em; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; }
      .board-list { flex: 8; overflow-y: auto; padding: 0 10px; }
      .board-list .board-post { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #444; cursor: pointer; }
      .board-list .board-post:last-child { border-bottom: none; }
      .board-list .post-index { width: 20%; text-align: left; }
      .board-list .post-title { width: 80%; text-align: left; }
      .board-footer { flex: 1; display: flex; justify-content: center; align-items: center; border-top: 1px solid #444; }
      .board-footer .board-more { background: #9b59b6; border: none; color: white; padding: 5px 10px; cursor: pointer; border-radius: 3px; }

      /* Full Board 페이지 스타일 */
      #page-board-full-news, #page-board-full-notice, #page-board-full-free, #page-board-full-suggest { max-width: 1200px; margin: 0 auto; }
      #page-board-full-news .full-header, #page-board-full-notice .full-header, #page-board-full-free .full-header, #page-board-full-suggest .full-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 2px solid #666; }
      #page-board-full-news .full-header h2, #page-board-full-notice .full-header h2, #page-board-full-free .full-header h2, #page-board-full-suggest .full-header h2 { font-size: 1.8em; }
      #page-board-full-news .full-list, #page-board-full-notice .full-list, #page-board-full-free .full-list, #page-board-full-suggest .full-list { padding: 20px; }
      #page-board-full-news .full-post, #page-board-full-notice .full-post, #page-board-full-free .full-post, #page-board-full-suggest .full-post { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #666; cursor: pointer; }
      #page-board-full-news .full-post:last-child, #page-board-full-notice .full-post:last-child, #page-board-full-free .full-post:last-child, #page-board-full-suggest .full-post:last-child { border-bottom: none; }
      #page-board-full-news .pagination, #page-board-full-notice .pagination, #page-board-full-free .pagination, #page-board-full-suggest .pagination { display: flex; justify-content: center; margin-top: 20px; }
      #page-board-full-news .pagination button, #page-board-full-notice .pagination button, #page-board-full-free .pagination button, #page-board-full-suggest .pagination button { background: #9b59b6; border: none; color: white; padding: 8px 15px; margin: 0 5px; cursor: pointer; border-radius: 3px; }
      .full-board-back { background-color: #9b59b6; border-radius: 2rem; border: none; width: 5rem; height: 2rem; cursor: pointer; }

      /* Modal 스타일 */
      .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 200; }
      .modal.active { display: flex; }
      .modal-content { background: #fff; color: #000; padding: 20px; border-radius: 5px; width: 90%; max-width: 600px; position: relative; }
      .modal-close { position: absolute; top: 10px; right: 10px; background: red; border: none; color: #fff; font-size: 1.2em; cursor: pointer; border-radius: 50%; width: 30px; height: 30px; }
      .modal-title { font-size: 1.5em; margin-bottom: 10px; }
      .modal-meta { font-size: 0.9em; margin-bottom: 10px; }
      .modal-body { margin-bottom: 10px; }
      .modal-comment { width: 100%; padding: 8px; font-size: 1em; }
    </style>
  </head>
  <body>
    <div id="app" class="container">
      <!-- 상단 영역 -->
      <header>
        <div class="left">
          <div class="logo">
            <img src="source/main-logo.png" alt="logo" />
          </div>
        </div>
        <div class="center">
          <nav class="nav">
            <a @click="switchPage('page-main')">MAIN</a>
            <a @click="switchPage('page-member')">MEMBER</a>
            <a @click="switchPage('page-board')">BOARD</a>
            <a @click="switchPage('page-playlist')">PLAYLIST</a>
          </nav>
        </div>
        <div class="right">
          <div class="profile">
            <img class="profile-card" src="source/profile.jpg" alt="profile" />
            <span class="guest-name">GUEST</span>
            <button id="auth-btn">Login</button>
          </div>
        </div>
      </header>

      <!-- SPA 콘텐츠 영역 -->
      <div class="main-content">
        <!-- 로딩 페이지 -->
        <section v-if="currentPage === 'page-loading'" id="page-loading">
          <div class="loading-bg">
            <iframe class="loading-video" src="https://www.youtube.com/embed/v9Jqz13gg8k?autoplay=1&mute=1&loop=1&playlist=v9Jqz13gg8k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
          </div>
          <div class="loading-logo">
            <img src="source/main-logo.png" alt="logo" />
          </div>
          <div class="loading-progress">
            <div class="progress-bar">
              <div class="progress-fill" :style="{ width: loadingPercent + '%' }"></div>
            </div>
            <div class="progress-percent">{{ loadingPercent }}%</div>
          </div>
        </section>

        <!-- MAIN 페이지 -->
        <section v-if="currentPage === 'page-main'" id="page-main">
          <section id="banner">
            <div class="swiper-container main_banner">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <img src="source/adverties/first.jpg" alt="">
                </div>
                <div class="swiper-slide">
                  <img src="source/adverties/first.jpg" alt="">
                </div>
                <div class="swiper-slide">
                  <img src="source/adverties/first.jpg" alt="">
                </div>
                <div class="swiper-slide">
                  <img src="source/adverties/first.jpg" alt="">
                </div>
                <div class="swiper-slide">
                  <img src="source/adverties/first.jpg" alt="">
                </div>
              </div>
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-pagination"></div>
            </div>
          </section>
          <section id="member">
            <div id="main-member">
              <div class="member-icons" id="member-icons" :class="{ fold: showDetail }">
                <div class="member-icon" v-for="member in members" :key="member.index" :data-index="member.index" :data-img1="member.img1" :data-img2="member.img2" :data-img3="member.img3" :data-info="member.info" @click="showMemberDetail(member.index)">{{ member.index }}</div>
              </div>
              <div class="member-detail" id="member-detail" :class="{ active: showDetail }">
                <button class="detail-close" @click="hideMemberDetail">X</button>
                <div class="member-detail-content">
                  <div class="detail-left">
                    <img v-for="img in memberImages" :key="img" :src="img" class="detail-photo" />
                  </div>
                  <div class="detail-right" v-html="memberInfo"></div>
                </div>
              </div>
            </div>
          </section>
          <section id="latest_song">
            <div class="latest-song-wrapper">
              <div class="album-art-container" @mouseenter="showSongTitles" @mouseleave="hideSongTitles">
                <img class="card card1" src="source/syzygy.jpg" />
                <div class="card card2">
                  <iframe width="560" height="315" src="https://www.youtube.com/embed/v9Jqz13gg8k?si=UGJvJwg1iWEMl-tT" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
              </div>
              <div class="song-icons" id="song-icons" :class="{ vertical: isSongTitlesVisible }">
                <div class="icon-item" v-for="(song, index) in songs" :key="index">
                  <div class="icon">{{ index + 1 }}</div>
                  <span v-show="isSongTitlesVisible">{{ song }}</span>
                </div>
              </div>
            </div>
          </section>
          <!-- VIDEO 섹션: Vue 환경에 맞게 initVideo가 nextTick 후 호출되어 등록됨 -->
          <section id="video">
            <div class="container">
              <div class="video-container" id="video-container">
                <div class="video-card" v-for="(card, index) in videoCards" :key="index" :data-index="index" :class="{ animate: card.animate, 'float-animation': card.float, active: card.active, hidden: card.hidden }" @click="onVideoCardClick(index)">{{ card.text }}</div>
                <button class="close-btn" id="video-close-btn" @click="onCloseVideoCard" :class="{ show: activeVideoCard !== null }">X</button>
              </div>
            </div>
          </section>
          <section id="award">
            <div class="container">
              <div class="reward-row" data-direction="ltr">
                <div class="reward-slider">
                  <div class="reward-card" v-for="n in 12" :key="n">Card {{ n }}</div>
                </div>
                <div class="fade fade-left"></div>
                <div class="fade fade-right"></div>
              </div>
              <div class="reward-row" data-direction="rtl">
                <div class="reward-slider">
                  <div class="reward-card" v-for="n in 12" :key="n">Card {{ n }}</div>
                </div>
                <div class="fade fade-left"></div>
                <div class="fade fade-right"></div>
              </div>
            </div>
          </section>
          <footer>
            <div class="footer-container">
              <div class="footer-left" :class="{ animate: isFooterVisible }">
                <div class="image-group">
                  <img class="shape-rect" src="source/lp_plyaer-removebg-preview.png" alt="rect" />
                  <img class="shape-circle" src="source/disk.png" alt="disk" />
                  <img class="shape-triangle" src="source/chim.png" alt="triangle" />
                </div>
              </div>
              <div class="footer-right">
                <p>Name: 홍길동</p>
                <p>Email: <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="46223e272b362a23062b272f2a6825292b">[email&#160;protected]</a></p>
                <p>Git: github.com/example</p>
                <p>Address: 서울시 강남구</p>
                <p>Tel: 010-1234-5678</p>
                <p>&copy; 2025 All Rights Reserved</p>
              </div>
            </div>
          </footer>
        </section>

        <!-- MEMBER 페이지 -->
        <section v-if="currentPage === 'page-member'" id="page-member">
          <div id="member-slider" class="member-slider">
            <div class="member-slider-wrapper">
              <div class="member-slider-card" v-for="(card, index) in memberSliderCards" :key="index" :class="{ 'video-mode': card.videoMode }" @click="toggleMemberSliderCard(index)">Card {{ index + 1 }}</div>
            </div>
            <div class="member-slider-fade member-slider-fade-left"></div>
            <div class="member-slider-fade member-slider-fade-right"></div>
          </div>
          <div id="member-info">
            <div class="member-icons-row">
              <div class="mem-icon" v-for="(icon, index) in memberIcons" :key="index" @click="showMemberInfo(index)">
                <div class="icon-default" :style="{ backgroundImage: `url(${icon.defaultImg})` }"></div>
                <div class="icon-hover" :style="{ backgroundImage: `url(${icon.hoverImg})` }"></div>
              </div>
            </div>
            <div class="member-info-display">
              <div class="member-info-content" v-for="(info, index) in memberInfos" :key="index" v-show="activeMemberInfo === index">{{ info }}</div>
            </div>
          </div>
        </section>

        <!-- BOARD 페이지 -->
        <section v-if="currentPage === 'page-board'" id="page-board">
          <div class="board-grid">
            <div class="board-box" v-for="board in boards" :key="board.type" :data-board="board.type">
              <div class="board-header">
                <span class="board-title">{{ board.title }}</span>
                <button class="board-add" @click="showFullBoard(board.type)">+</button>
              </div>
              <div class="board-list">
                <div class="board-post" v-for="(post, pIndex) in board.posts" :key="pIndex" @click="showPostModal(post)">
                  <div class="post-index">{{ pIndex + 1 }}</div>
                  <div class="post-title">{{ post.title }}</div>
                </div>
              </div>
              <div class="board-footer">
                <button class="board-more" @click="showFullBoard(board.type)">더보기</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Full Board Pages -->
        <section v-if="currentPage === 'page-board-full-news'" id="page-board-full-news">
          <div class="full-header">
            <h2>NEWS 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">뒤로가기</button>
          </div>
          <div class="full-list">
            <div class="full-post" v-for="(post, index) in fullPosts.news" :key="index" @click="showPostModal(post)">
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-title">{{ post.title }}</div>
            </div>
          </div>
          <div class="pagination">
            <button v-for="page in totalPages.news" :key="page" @click="changePage('news', page)">{{ page }}</button>
          </div>
        </section>
        <section v-if="currentPage === 'page-board-full-notice'" id="page-board-full-notice">
          <div class="full-header">
            <h2>공지사항 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">뒤로가기</button>
          </div>
          <div class="full-list">
            <div class="full-post" v-for="(post, index) in fullPosts.notice" :key="index" @click="showPostModal(post)">
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-title">{{ post.title }}</div>
            </div>
          </div>
          <div class="pagination">
            <button v-for="page in totalPages.notice" :key="page" @click="changePage('notice', page)">{{ page }}</button>
          </div>
        </section>
        <section v-if="currentPage === 'page-board-full-free'" id="page-board-full-free">
          <div class="full-header">
            <h2>자유게시판 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">뒤로가기</button>
          </div>
          <div class="full-list">
            <div class="full-post" v-for="(post, index) in fullPosts.free" :key="index" @click="showPostModal(post)">
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-title">{{ post.title }}</div>
            </div>
          </div>
          <div class="pagination">
            <button v-for="page in totalPages.free" :key="page" @click="changePage('free', page)">{{ page }}</button>
          </div>
        </section>
        <section v-if="currentPage === 'page-board-full-suggest'" id="page-board-full-suggest">
          <div class="full-header">
            <h2>건의사항 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">뒤로가기</button>
          </div>
          <div class="full-list">
            <div class="full-post" v-for="(post, index) in fullPosts.suggest" :key="index" @click="showPostModal(post)">
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-title">{{ post.title }}</div>
            </div>
          </div>
          <div class="pagination">
            <button v-for="page in totalPages.suggest" :key="page" @click="changePage('suggest', page)">{{ page }}</button>
          </div>
        </section>

        <!-- PLAYLIST 페이지 -->
        <section v-if="currentPage === 'page-playlist'" id="page-playlist">
          <h2>PLAYLIST PAGE</h2>
          <p>플레이리스트를 확인할 수 있는 페이지입니다.</p>
        </section>
      </div>

      <!-- Modal -->
      <div class="modal" :class="{ active: isModalActive }">
        <div class="modal-content">
          <button class="modal-close" @click="closeModal">&times;</button>
          <div class="modal-title">{{ modalTitle }}</div>
          <div class="modal-meta">{{ modalMeta }}</div>
          <div class="modal-body">{{ modalBody }}</div>
          <input type="text" class="modal-comment" placeholder="댓글을 입력하세요" />
        </div>
      </div>

      <!-- Music Playbar -->
      <div id="playbar">
        <div class="pb-left">
          <div class="album-art"></div>
          <div class="song-info">
            <span class="song-title">{{ currentSong.title }}</span>
            <span class="song-artist">{{ currentSong.artist }}</span>
          </div>
        </div>
        <div class="pb-center">
          <div class="controls">
            <div class="btn" @click="toggleRandom"><img :src="randomIcon" alt="랜덤" /></div>
            <div class="btn" @click="prevSong"><img src="source/previous.png" alt="이전" /></div>
            <div class="btn" @click="togglePlayPause"><img :src="playPauseIcon" alt="재생/정지" /></div>
            <div class="btn" @click="nextSong"><img src="source/next.png" alt="다음" /></div>
            <div class="btn" @click="toggleRepeat"><img :src="repeatIcon" alt="반복" /></div>
          </div>
          <div class="time-info">
            <div class="elapsed">{{ elapsedTime }}</div>
            <div class="progress">
              <input type="range" v-model="progress" @input="seek" min="0" max="100" />
            </div>
            <div class="remaining">{{ remainingTime }}</div>
          </div>
        </div>
        <div class="pb-right">
          <div class="volume-control">
            <input type="range" v-model="volume" @input="setVolume" min="0" max="100" />
          </div>
          <div class="volume-percentage">{{ volume }}%</div>
        </div>
      </div>
    </div>

    <script>
      // Supabase 연결 설정
      const SUPABASE_URL = "https://pdwbghdbrzcaftdzjegw.supabase.co"; // 여기에 네 프로젝트 URL 입력
      const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkd2JnaGRicnpjYWZ0ZHpqZWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwNjI4NzYsImV4cCI6MjA1ODYzODg3Nn0.PS9lyc45XXnhVw52qq9TOQyYiWclxNxPwLGtSFX8VbI"; // 여기에 네 공개 키 입력

      const { createApp, ref, onMounted, computed, nextTick } = Vue;

      createApp({
        setup() {
          // 반응형 데이터 정의
          const currentPage = ref('page-loading');
          const loadingPercent = ref(0);
          const showDetail = ref(false);
          const memberImages = ref([]);
          const memberInfo = ref('');
          const isSongTitlesVisible = ref(false);
          const isFooterVisible = ref(false);
          const isModalActive = ref(false);
          const modalTitle = ref('');
          const modalMeta = ref('');
          const modalBody = ref('');
          const activeVideoCard = ref(null);
          const activeMemberInfo = ref(null);
          const currentTime = ref(0); // 오디오 재생시간 업데이트용

          // 데이터 정의
          const members = ref([
            { index: 1, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 1에 대한 상세 정보입니다.' },
            { index: 2, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 2에 대한 상세 정보입니다.' },
            { index: 3, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 3에 대한 상세 정보입니다.' },
            { index: 4, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 4에 대한 상세 정보입니다.' },
            { index: 5, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 5에 대한 상세 정보입니다.' },
            { index: 6, img1: 'source/jing_face.png', img2: 'source/jing_body.png', img3: 'source/jing_fan.png', info: 'Member 6에 대한 상세 정보입니다.' },
          ]);
          const songs = ref(['곡 제목 1', '곡 제목 2', '곡 제목 3', '곡 제목 4']);
          const videoCards = ref(Array.from({ length: 6 }, (_, i) => ({ text: `Card ${i + 1}`, animate: false, float: false, active: false, hidden: false })));
          const memberSliderCards = ref(Array.from({ length: 8 }, () => ({ videoMode: false })));
          const memberIcons = ref([
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
            { defaultImg: 'source/profile.jpg', hoverImg: 'source/disk.png' },
          ]);
          const memberInfos = ref([
            'Member 1의 상세 정보 (임시)\ntest\ntest',
            'Member 2의 상세 정보 (임시)',
            'Member 3의 상세 정보 (임시)',
            'Member 4의 상세 정보 (임시)',
            'Member 5의 상세 정보 (임시)',
            'Member 6의 상세 정보 (임시)',
          ]);
          const boards = ref([
            { type: 'news', title: 'news', posts: Array.from({ length: 5 }, (_, i) => ({ id: `news-${i + 1}`, title: `뉴스 더미 제목 ${i + 1}`, content: `이곳에 news-${i + 1}의 내용이 표시됩니다.` })) },
            { type: 'notice', title: '공지사항', posts: Array.from({ length: 5 }, (_, i) => ({ id: `notice-${i + 1}`, title: `공지 더미 제목 ${i + 1}`, content: `이곳에 notice-${i + 1}의 내용이 표시됩니다.` })) },
            { type: 'free', title: '자유게시판', posts: Array.from({ length: 5 }, (_, i) => ({ id: `free-${i + 1}`, title: `자유 더미 제목 ${i + 1}`, content: `이곳에 free-${i + 1}의 내용이 표시됩니다.` })) },
            { type: 'suggest', title: '건의사항', posts: Array.from({ length: 5 }, (_, i) => ({ id: `suggest-${i + 1}`, title: `건의 더미 제목 ${i + 1}`, content: `이곳에 suggest-${i + 1}의 내용이 표시됩니다.` })) },
          ]);
          const fullPosts = ref({
            news: Array.from({ length: 15 }, (_, i) => ({ id: `news-${i + 1}`, title: `NEWS 더미 제목 ${i + 1}`, content: `이곳에 news-${i + 1}의 내용이 표시됩니다.` })),
            notice: Array.from({ length: 15 }, (_, i) => ({ id: `notice-${i + 1}`, title: `공지 더미 제목 ${i + 1}`, content: `이곳에 notice-${i + 1}의 내용이 표시됩니다.` })),
            free: Array.from({ length: 15 }, (_, i) => ({ id: `free-${i + 1}`, title: `자유 더미 제목 ${i + 1}`, content: `이곳에 free-${i + 1}의 내용이 표시됩니다.` })),
            suggest: Array.from({ length: 15 }, (_, i) => ({ id: `suggest-${i + 1}`, title: `건의 더미 제목 ${i + 1}`, content: `이곳에 suggest-${i + 1}의 내용이 표시됩니다.` })),
          });
          const totalPages = ref({
            news: Math.ceil(fullPosts.value.news.length / 10),
            notice: Math.ceil(fullPosts.value.notice.length / 10),
            free: Math.ceil(fullPosts.value.free.length / 10),
            suggest: Math.ceil(fullPosts.value.suggest.length / 10),
          });

          // Playbar 데이터 및 오디오 객체
          const audio = new Audio('source/kidding.mp3');
          const playlist = ref(['source/kidding.mp3', 'source/kidding.mp3', 'source/kidding.mp3']);
          const currentSongIndex = ref(0);
          const isPlaying = ref(false);
          const progress = ref(0);
          const volume = ref(50);
          const repeatMode = ref(false);
          const randomMode = ref(false);

          // initFooterAnimation 함수: footer가 뷰포트에 보이면 isFooterVisible 업데이트
          const initFooterAnimation = () => {
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) isFooterVisible.value = true;
                });
              },
              { threshold: 0.5 }
            );
            const footerEl = document.querySelector('footer');
            if (footerEl) observer.observe(footerEl);
          };

          // 페이지 전환 함수 (DOM 업데이트 후 초기화)
          const switchPage = (page) => {
            currentPage.value = page;
            nextTick(() => {
              if (page === 'page-main') {
                initMainPage();
              } else if (page === 'page-member') {
                initMemberPage();
              } else if (page === 'page-board') {
                initBoardPage();
              } else if (page === 'page-playlist') {
                initPlaylistPage();
              } else if (page.startsWith('page-board-full-')) {
                initFullBoardPage(page);
              }
            });
          };

          // 로딩 페이지 초기화
          const initLoadingPage = () => {
            document.body.style.overflow = 'hidden';
            gsap.fromTo('.loading-logo', { y: -200, opacity: 0 }, { y: 0, opacity: 1, duration: 1.5, ease: 'power2.out' });
            let currentPercent = 0;
            const interval = setInterval(() => {
              currentPercent += Math.random() * 10;
              if (currentPercent >= 100) {
                currentPercent = 100;
                clearInterval(interval);
                switchPage('page-main');
                document.body.style.overflow = '';
              }
              loadingPercent.value = Math.floor(currentPercent);
            }, 100);
          };

          // Main 페이지 초기화 (Swiper, Song Icons, Member Icon, Video, Footer, Playbar)
          const initMainPage = () => {
            initSwiper();
            initSongIcons();
            initMemberIcon();
            initVideo();
            initFooterAnimation();
            initPlaybar();
          };

          // Swiper 초기화
          const initSwiper = () => {
            new Swiper('.main_banner', {
              autoplay: { delay: 5000, disableOnInteraction: false },
              loop: true,
              pagination: { el: '.swiper-pagination', clickable: true },
              navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
            });
          };

          // Song Icons 초기화
          const initSongIcons = () => {
            const songIcons = document.getElementById('song-icons');
            if (songIcons) {
              songIcons.addEventListener('mouseenter', showSongTitles);
              songIcons.addEventListener('mouseleave', hideSongTitles);
            }
          };

          // Member Icon 초기화 (Vue의 @click 처리)
          const initMemberIcon = () => {};

          // 수정된 Video 초기화 (Vue 환경에서 nextTick 후 DOM 접근)
          const initVideo = () => {
            nextTick(() => {
              const videoContainer = document.getElementById("video-container");
              if (!videoContainer) return;
              const videoCardNodes = Array.from(videoContainer.querySelectorAll(".video-card"));
              const closeBtn = document.getElementById("video-close-btn");
              let activeCard = null;
      
              function isMobile() {
                return window.innerWidth <= 768;
              }
      
              function resetGridStyles() {
                videoCardNodes.forEach((card) => {
                  card.classList.remove("active", "hidden", "float-animation", "animate");
                  card.style.removeProperty("width");
                  card.style.removeProperty("height");
                  card.style.removeProperty("line-height");
                  card.style.removeProperty("left");
                  card.style.removeProperty("top");
                  card.style.removeProperty("transform");
                });
              }
      
              function setVideoCardPositions() {
                const containerWidth = videoContainer.clientWidth;
                const cardSize = 150;
                const rowTops = [50, 220, 450];
                const rows = { 0: [], 1: [], 2: [] };
                videoCardNodes.forEach((card, idx) => rows[idx % 3].push(card));
                Object.keys(rows).forEach((rowIndex) => {
                  const cards = rows[rowIndex];
                  const minGap = cardSize;
                  let left1 = Math.random() * (containerWidth - cardSize * 2 - minGap);
                  let left2 = left1 + cardSize + minGap + Math.random() * (containerWidth - left1 - cardSize - minGap - cardSize);
                  if (Math.random() > 0.5) [left1, left2] = [left2, left1];
                  if(cards[0])
                    cards[0].style.cssText = `left: ${left1}px; top: ${rowTops[rowIndex]}px; width: ${cardSize}px; height: ${cardSize}px; line-height: ${cardSize}px; transform: translateY(30px);`;
                  if(cards[1])
                    cards[1].style.cssText = `left: ${left2}px; top: ${rowTops[rowIndex]}px; width: ${cardSize}px; height: ${cardSize}px; line-height: ${cardSize}px; transform: translateY(30px);`;
                });
              }
      
              if (isMobile()) resetGridStyles();
              else {
                setVideoCardPositions();
                const onScroll = () => {
                  const videoRect = videoContainer.getBoundingClientRect();
                  if (videoRect.top < window.innerHeight - videoContainer.clientHeight / 5) {
                    videoCardNodes.forEach((card) => {
                      if (!card.classList.contains("animate")) {
                        card.classList.add("animate");
                        setTimeout(() => card.classList.add("float-animation"), 500);
                      }
                    });
                    window.removeEventListener("scroll", onScroll);
                  }
                };
                window.addEventListener("scroll", onScroll);
              }
      
              videoCardNodes.forEach((card) => {
                card.addEventListener("click", () => {
                  if (activeCard) return;
                  activeCard = card;
                  videoCardNodes.forEach((c) => {
                    if (c !== card) c.classList.add("hidden");
                  });
                  card.classList.remove("float-animation");
                  card.classList.add("active");
                  card.style.transition = "all 0.5s ease";
                  if (isMobile()) {
                    card.style.width = `${videoContainer.clientWidth}px`;
                    card.style.height = `${videoContainer.clientHeight}px`;
                    card.style.lineHeight = `${videoContainer.clientHeight}px`;
                  } else {
                    const targetWidth = videoContainer.clientWidth * 0.8;
                    const targetHeight = videoContainer.clientHeight * 0.8;
                    card.style.left = `${(videoContainer.clientWidth - targetWidth) / 2}px`;
                    card.style.top = `${(videoContainer.clientHeight - targetHeight) / 2}px`;
                    card.style.width = `${targetWidth}px`;
                    card.style.height = `${targetHeight}px`;
                    card.style.lineHeight = `${targetHeight}px`;
                  }
                  setTimeout(() => (card.textContent += " click"), 500);
                  closeBtn.classList.add("show");
                });
              });
      
              closeBtn.addEventListener("click", () => {
                if (!activeCard) return;
                activeCard.classList.remove("active");
                activeCard.style.transition = "all 0.5s ease";
                if (isMobile()) {
                  videoCardNodes.forEach((card) => {
                    card.classList.remove("hidden");
                    card.style.removeProperty("width");
                    card.style.removeProperty("height");
                    card.style.removeProperty("line-height");
                  });
                } else {
                  setVideoCardPositions();
                  videoCardNodes.forEach((c) => c.classList.remove("hidden"));
                }
                closeBtn.classList.remove("show");
                activeCard = null;
              });
            });
          };

          // Video 섹션 이벤트 핸들러 (추가 Vue 처리 필요 시)
          const onVideoCardClick = (index) => {
            // initVideo 내 이벤트 등록으로 별도 처리 없음.
          };

          const onCloseVideoCard = () => {
            // initVideo 내 이벤트 등록으로 별도 처리 없음.
          };

          // Song Icons 기능
          const showSongTitles = () => {
            isSongTitlesVisible.value = true;
          };

          const hideSongTitles = () => {
            isSongTitlesVisible.value = false;
          };

          // Member Detail 기능
          const showMemberDetail = (index) => {
            const member = members.value.find(m => m.index === index);
            memberImages.value = [member.img1, member.img2, member.img3];
            memberInfo.value = member.info.replace(/\n/g, '<br>');
            showDetail.value = true;
          };

          const hideMemberDetail = () => {
            showDetail.value = false;
          };

          // Member Slider 기능
          const initMemberPage = () => {
            initMemberSlider();
          };

          const initMemberSlider = () => {
            const slider = document.getElementById('member-slider');
            if (slider) {
              slider.addEventListener('mouseenter', () => slider.querySelector('.member-slider-wrapper').style.animationPlayState = 'paused');
              slider.addEventListener('mouseleave', () => slider.querySelector('.member-slider-wrapper').style.animationPlayState = 'running');
            }
          };

          const toggleMemberSliderCard = (index) => {
            memberSliderCards.value[index].videoMode = !memberSliderCards.value[index].videoMode;
          };

          const showMemberInfo = (index) => {
            activeMemberInfo.value = index;
          };

          // Board 페이지 기능
          const initBoardPage = () => {};

          const showPostModal = (post) => {
            modalTitle.value = post.title;
            modalMeta.value = '작성자: 더미작성자 | 작성일자: 2025-01-01';
            modalBody.value = post.content;
            isModalActive.value = true;
          };

          const closeModal = () => {
            isModalActive.value = false;
          };

          const showFullBoard = (type) => {
            switchPage(`page-board-full-${type}`);
          };

          // Full Board 페이지 기능
          const initFullBoardPage = (pageId) => {};

          const changePage = (type, page) => {};

          // Playlist 페이지 기능
          const initPlaylistPage = () => {};

          // Playbar 기능
          const initPlaybar = () => {
            audio.volume = volume.value / 100;
            audio.addEventListener('timeupdate', updateProgress);
            audio.addEventListener('ended', nextSong);
          };

          const updateProgress = () => {
            const current = audio.currentTime;
            currentTime.value = current;
            const duration = audio.duration || 216;
            progress.value = (current / duration) * 100;
          };

          const elapsedTime = computed(() => {
            const current = currentTime.value;
            const minutes = Math.floor(current / 60);
            const seconds = Math.floor(current % 60);
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
          });

          const remainingTime = computed(() => {
            const duration = audio.duration || 216;
            const current = currentTime.value;
            const remaining = duration - current;
            const minutes = Math.floor(remaining / 60);
            const seconds = Math.floor(remaining % 60);
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
          });

          const playPauseIcon = computed(() => isPlaying.value ? 'source/pause.png' : 'source/play.png');
          const randomIcon = computed(() => randomMode.value ? 'source/shuffle-active.png' : 'source/shuffle.png');
          const repeatIcon = computed(() => repeatMode.value ? 'source/repeat-active.png' : 'source/repeat.png');

          const currentSong = computed(() => ({
            title: 'Kidding',
            artist: 'Artist'
          }));

          const togglePlayPause = () => {
            if (isPlaying.value) {
              audio.pause();
            } else {
              audio.play();
            }
            isPlaying.value = !isPlaying.value;
          };

          const prevSong = () => {
            currentSongIndex.value = (currentSongIndex.value - 1 + playlist.value.length) % playlist.value.length;
            audio.src = playlist.value[currentSongIndex.value];
            audio.play();
            isPlaying.value = true;
          };

          const nextSong = () => {
            currentSongIndex.value = (currentSongIndex.value + 1) % playlist.value.length;
            audio.src = playlist.value[currentSongIndex.value];
            audio.play();
            isPlaying.value = true;
          };

          const toggleRandom = () => {
            randomMode.value = !randomMode.value;
            if (randomMode.value) {
              for (let i = playlist.value.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [playlist.value[i], playlist.value[j]] = [playlist.value[j], playlist.value[i]];
              }
            }
          };

          const toggleRepeat = () => {
            repeatMode.value = !repeatMode.value;
            audio.loop = repeatMode.value;
          };

          const seek = () => {
            const duration = audio.duration || 216;
            audio.currentTime = (progress.value / 100) * duration;
          };

          const setVolume = () => {
            audio.volume = volume.value / 100;
          };

          onMounted(() => {
            // Supabase 클라이언트 생성
            const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            
            initLoadingPage();
          });

          return {
            currentPage,
            loadingPercent,
            showDetail,
            memberImages,
            memberInfo,
            isSongTitlesVisible,
            isFooterVisible,
            isModalActive,
            modalTitle,
            modalMeta,
            modalBody,
            activeVideoCard,
            activeMemberInfo,
            members,
            songs,
            videoCards,
            memberSliderCards,
            memberIcons,
            memberInfos,
            boards,
            fullPosts,
            totalPages,
            progress,
            volume,
            elapsedTime,
            remainingTime,
            currentSong,
            playPauseIcon,
            randomIcon,
            repeatIcon,
            switchPage,
            showMemberDetail,
            hideMemberDetail,
            showSongTitles,
            hideSongTitles,
            onVideoCardClick,
            onCloseVideoCard,
            toggleMemberSliderCard,
            showMemberInfo,
            showPostModal,
            closeModal,
            showFullBoard,
            changePage,
            togglePlayPause,
            prevSong,
            nextSong,
            toggleRandom,
            toggleRepeat,
            seek,
            setVolume
          };
        }
      }).mount('#app');
    </script>
  </body>
</html>
