<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>이세돌 팬 페이지 SPA</title>
    <link rel="icon" type="image/x-icon" href="source/favicon.png">
    <!-- Swiper CSS CDN -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <!-- Swiper JS CDN -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <!-- Vue 3 CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
      /* 기존 스타일 유지 */
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font-family: "Kanit", sans-serif; line-height: 2; font-weight: bold; background-color: black; color: white; padding-bottom: 100px; overflow: scroll; scrollbar-width: none; -ms-overflow-style: none;}
      ::-webkit-scrollbar {display: none;}
      .container { max-width: 1200px; margin: 0 auto; padding: 10px; }
      header { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; }
      header .left, header .center, header .right { flex: 1; }
      header .left { text-align: left; }
      header .left .logo img { height: min(4vh, 50px); filter: invert(100%); margin-left: 2rem; margin-top: 1rem;}
      header .center { text-align: center; }
      header .right { text-align: right; }
      .nav a { margin: 0 6px; text-decoration: none; color: white; cursor: pointer; font-weight: bold; }
      .profile { display: inline-flex; align-items: center; }
      .profile-card { width: 40px; height: 40px; background-color: gray; border-radius: 50%; margin-right: 10px; flex-shrink: 0; }
      .guest-name { margin-right: 10px; }
      .right .profile > button { background-color: #9b59b6; width: max(4vw, 80px); height: max(2vh, 44px); color: white; border: none; border-radius: 2rem; font-weight: bold; margin-left: 0.2rem; cursor: pointer; }
      .main-content section { margin: 20px 0; padding: 40px; text-align: center; }

      /* SPA 페이지 섹션 */
      .page { display: none; }
      .page.active { display: block; }

      /* 로딩 페이지 스타일 */
      #page-loading { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 300; }
      .loading-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; }
      .loading-video { width: 100%; height: 100%; pointer-events: none; filter: brightness(0.6); }
      .loading-logo { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); }
      .loading-logo img { width: min(40vw, 200px); height: auto; }
      .loading-progress { position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%); width: 80%; max-width: 500px; }
      .progress-bar { width: 100%; height: 8px; background: #444; border-radius: 4px; overflow: hidden; }
      .progress-fill { width: 0%; height: 100%; background: #9b59b6; transition: width 0.3s ease; }
      .progress-percent { text-align: center; margin-top: 5px; color: #fff; font-size: 0.9em; }

      /* 배너 섹션 */
      #banner .main_banner { position: relative; }
      #banner .swiper-container { width: 100%; height: max(20vw, 300px); overflow: hidden; }
      #banner .swiper-slide { display: flex; align-items: center; justify-content: center; font-size: 1.5em; font-weight: bold; color: white; }
      #banner .swiper-slide img { width: 80%; object-fit: contain; }
      .swiper-button-next, .swiper-button-prev { color: white; }
      .swiper-pagination-bullet { background: white; }

      /* MEMBER 섹션 */
      #member { height: min(18vh, 400px); background: none; padding: 0; }
      #main-member { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; position: relative; overflow: hidden; }
      .member-icons { display: flex; justify-content: space-around; align-items: center; width: 100%; transition: all 2.5s ease; }
      .member-icon { width: 100px; height: 100px; border-radius: 50%; background-color: #9b59b6; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; cursor: pointer; transition: transform 1.5s ease, opacity 1.5s ease, background-color 0.3s ease; }
      .member-icon img {width: 100%; object-fit: contain; border-radius: 50%;}
      .member-icon:hover { transform: scale(1.3); box-shadow: 0 0 10px white; background-color: #c0392b; }
      .member-icons.fold .member-icon[data-index="1"] { transform: translateX(150px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="2"] { transform: translateX(80px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="3"] { transform: translateX(30px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="4"] { transform: translateX(-30px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="5"] { transform: translateX(-80px); opacity: 0; }
      .member-icons.fold .member-icon[data-index="6"] { transform: translateX(-150px); opacity: 0; }
      .member-detail { display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: white; color: black; border-radius: 10px; padding: 20px; opacity: 0; transform: scale(0); transition: transform 1s ease, opacity 1s ease; }
      .member-detail.active { display: block; opacity: 1; transform: scale(1); }
      .member-detail-content { display: flex; gap: 20px; height: 100%; }
      .detail-left, .detail-right { flex: 1; }
      .detail-left { display: flex; flex-direction: row; justify-content: space-between; gap: 10px; height: 100%; }
      .detail-photo { width: 35%; border-radius: 5px; object-fit: cover; margin: auto; }
      .detail-right { display: flex; align-items: center; justify-content: center; font-size: 1.1em; }
      .detail-close { position: absolute; top: 10px; right: 10px; background: red; border: none; color: white; font-size: 1em; font-weight: bold; padding: 5px 10px; border-radius: 50%; cursor: pointer; z-index: 10; transition: opacity 0.5s ease; }

      /* 최신곡 섹션 */
      .latest-song-wrapper { display: flex; gap: 20px; flex-wrap: wrap; }
      .album-art-container { flex: 1; min-width: 250px; position: relative; height: 315px; perspective: 1000px; overflow: hidden; }
      .album-art-container .card { position: absolute; width: 100%; height: 100%; border-radius: 10px; transition: transform 0.5s ease, opacity 0.5s ease; display: flex; align-items: center; justify-content: center; font-size: 1.2em; font-weight: bold; }
      .album-art-container .card.card1 { background-color: #444; opacity: 1; transform: rotate(0deg); transition: all 0.5s ease; }
      .album-art-container .card.card2 { background-color: #888; opacity: 0; transform: rotate(0deg); transition: all 1s ease; }
      .card.card1, .card.card2 { width: 100%; object-fit: contain; }
      .album-art-container:hover .card.card1 { transform: rotate(-360deg); opacity: 0; transition: all 1s ease; }
      .album-art-container:hover .card.card2 { transform: rotate(360deg); opacity: 1; transition: all 0.5s ease; }
      .song-icons { flex: 1; min-width: 250px; display: flex; justify-content: center; align-items: center; transition: all 2s ease; }
      .song-icons .icon-item { display: inline-flex; align-items: center; margin: 0 10px; transition: all 2s ease; }
      .song-icons .icon-item .icon { width: 40px; height: 40px; background-color: #666; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9em; color: white; }
      .song-icons .icon-item span { display: none; margin-left: 0; opacity: 0; white-space: nowrap; transition: opacity 0.5s ease, margin-left 0.5s ease; }
      .song-icons.vertical { flex-direction: column; align-items: flex-start; }
      .song-icons.vertical .icon-item { margin: 10px 0; }
      .song-icons.vertical .icon-item span { opacity: 1; margin-left: 10px; }

      /* VIDEO 섹션 */
      #video { padding: 20px 0; position: relative; }
      #video h2 { margin-bottom: 20px; }
      .video-container { position: relative; height: 700px; overflow: hidden; padding-inline: 4vw; }
      .video-card { position: absolute; width: 200px; height: 150px; background: #000000; border-radius: 10px; transition: all 0.5s ease; opacity: 0; }
      .video-card img {width: 100%; height: 100%; object-fit: contain;}
      .video-card.animate { opacity: 1; transform: translateY(0); }
      .float-animation { animation: float 3s ease-in-out infinite; }
      @keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }
      .video-card.active { z-index: 10; }
      .video-card.hidden { opacity: 0 !important; pointer-events: none; }
      .close-btn { position: absolute; top: 10px; right: 10px; background: red; color: white; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; display: none; z-index: 20; }
      .close-btn.show { display: block; }

      #award { padding: 40px 0; }
      #award h2 { margin-bottom: 20px; }
      .reward-row { position: relative; overflow: hidden; margin: 20px 0; }
      .reward-slider { display: flex; width: calc(200%); gap: 1rem; animation: slideLTR 20s linear infinite; }
      .reward-row[data-direction="rtl"] .reward-slider { animation: slideRTL 20s linear infinite; }
      .reward-card { flex: 0 0 calc(100%/6); max-width: calc(100%/6); height: 100px; margin: 0 5px; display: flex; align-items: center; justify-content: center; font-weight: bold; color: white; border-radius: 10px; border: 2px solid white; 
                      padding: 1rem; gap: 1rem;}
      .reward-card .card-icon img {width: 4rem; object-fit: contain; margin-top: 11px;}
      .fade { position: absolute; top: 0; width: 100px; height: 100%; pointer-events: none; z-index: 2; }
      .fade.fade-left { left: 0; background: linear-gradient(to right, #222, transparent); }
      .fade.fade-right { right: 0; background: linear-gradient(to left, #222, transparent); }
      @keyframes slideLTR { 0% { transform: translateX(0); } 100% { transform: translateX(-70%); } }
      @keyframes slideRTL { 0% { transform: translateX(-70%); } 100% { transform: translateX(0); } }

      /* Music Playbar */
      #playbar { position: fixed; bottom: 0; left: 0; width: 100%; height: 100px; background: #222; display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; z-index: 100; border-top: 2px solid white; }
      #playbar .pb-left { flex: 1; display: flex; align-items: center; }
      #playbar .pb-center { flex: 3; display: flex; flex-direction: column; align-items: center; justify-content: center; }
      #playbar .pb-right { flex: 1; display: flex; align-items: center; }
      #playbar .pb-left { justify-content: flex-start; }
      #playbar .pb-left .album-art { width: 130px; height: 80px; display: flex;}
      #playbar .pb-left .album-art img {height: 100%; object-fit: contain; margin: auto;}
      #playbar .pb-left .song-info { display: flex; flex-direction: column; justify-content: center; margin-left: 20px; }
      #playbar .pb-left .song-info span { margin: 5px 0; }
      #playbar .pb-center .controls { display: flex; gap: 10px; margin-bottom: 10px; }
      #playbar .pb-center .controls .btn img { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
      #playbar .pb-center .time-info { display: flex; gap: 10px; align-items: center; width: 100%; }
      #playbar .pb-center .time-info .elapsed, #playbar .pb-center .time-info .remaining { width: 60px; text-align: center; }
      #playbar .pb-center .time-info .progress { flex: 1; }
      #playbar .pb-center .time-info .progress input[type=range] { width: 100%; -webkit-appearance: none; background: #444; height: 5px; border-radius: 5px; }
      #playbar .pb-center .time-info .progress input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 15px; height: 15px; background: #9b59b6; border-radius: 50%; cursor: pointer; }
      #playbar .pb-right { flex-direction: column; justify-content: center; align-items: center; }
      #playbar .pb-right .volume-control { width: 80%; }
      #playbar .pb-right .volume-control input[type=range] { width: 100%; -webkit-appearance: none; background: #444; height: 10px; border-radius: 5px; }
      #playbar .pb-right .volume-control input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; width: 15px; height: 15px; background: #9b59b6; border-radius: 50%; cursor: pointer; }
      #playbar .pb-right .volume-percentage { margin-top: 5px; text-align: center; }

      /* FOOTER 섹션 */
      footer { display: flex; justify-content: center; align-items: center; padding: 40px 0; }
      footer .footer-container { display: flex; justify-content: space-between; align-items: center; max-width: 1200px; width: 100%; }
      footer .footer-left, footer .footer-right { flex: 1; display: flex; justify-content: center; align-items: center; }
      .image-group { position: relative; width: 300px; height: 200px; transition: transform 1.5s ease-out; transform: translateX(-400%); }
      .footer-left.animate .image-group { transform: translateX(30%); }
      .shape-rect { position: absolute; width: 100%; height: 100%; top: 10px; left: 10px; z-index: 1; }
      .shape-circle { position: absolute; height: 88%; border-radius: 50%; top: 24px; left: 48px; z-index: 2; animation: rotate360 4s linear infinite; }
      @keyframes rotate360 { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
      .shape-triangle { position: absolute; width: 100%; height: 100%; top: 10px; left: 10px; z-index: 3; }
      .footer-right { flex-direction: column; }
      .footer-right p { width: 100%; margin: 5px 0; text-align: left; padding-left: 4rem; }
      footer .footer-container > div { display: flex; flex-direction: column; align-items: center; justify-content: center; }

      /* 반응형 디자인 */
      @media (max-width: 768px) {
        header { flex-direction: column; align-items: flex-start; }
        header .left, header .center, header .right { width: 100%; text-align: left; margin-bottom: 10px; }
        .nav a { margin: 0 8px; }
        .swiper-container { height: 200px; }
        .album-art-container { height: 200px; }
        .member-icons { flex-wrap: wrap; gap: 8px; }
        .member-icon { width: 50px; height: 50px; }
        .reward-card { flex: 0 0 calc(100%/6); max-width: calc(100%/5); height: min(14vh, 150px); margin: 0 3px; }
        .fade { width: 50px; }
        .video-card { width: 100px; height: 100px; line-height: 100px; }
        footer { flex-direction: column; }
        footer .footer-container { flex-direction: column; }
        footer .footer-left, footer .footer-right { margin: 10px 0; }
        footer .footer-right p { text-align: center; padding: 0; }
        .footer-left.animate .image-group { transform: translateX(-4%); }
        .video-container { height: auto; padding: 20px; display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: auto; gap: 10px; justify-items: center; }
        .video-card { position: relative; opacity: 1; transition: all 0.5s ease; }
        .video-card.active { position: absolute; }
        .close-btn { top: 5px; right: 5px; }
        .board-grid { grid-template-columns: 1fr; }
      }

      /* MEMBER 페이지 전용 스타일 */
      .member-slider { position: relative; overflow: hidden; height: 12vh; margin-bottom: 20px; background: #111; }
      .member-slider-wrapper { display: flex; height: 100%; animation: memberSlideLeft 10s linear infinite; }
      .member-slider-card { flex: 0 0 auto; width: 200px; height: 100%; margin-right: 10px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: background-color 0.5s ease; }
      .member-slider-card img {width: 100%; object-fit: contain;}
      .member-slider-card.video-mode { background-color: #ff6600; }
      .member-slider-fade { position: absolute; top: 0; width: 50px; height: 100%; pointer-events: none; z-index: 2; }
      .member-slider-fade-left { left: 0; background: linear-gradient(to right, black, transparent); }
      .member-slider-fade-right { right: 0; background: linear-gradient(to left, black, transparent); }
      @keyframes memberSlideLeft { 0% { transform: translateX(0); } 100% { transform: translateX(-76%); } }
      #member-info { text-align: center; padding: 10px 0; }
      .member-icons-row { display: flex; justify-content: space-around; margin-bottom: 20px; }
      .member-icons-row .mem-icon { position: relative; width: 80px; height: 80px; border-radius: 10%; overflow: hidden; cursor: pointer; }
      .mem-icon .icon-default, .mem-icon .icon-hover { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; transition: opacity 0.3s ease; }
      .mem-icon .icon-default { opacity: 1; }
      .mem-icon .icon-hover { opacity: 0; }
      .mem-icon:hover .icon-default { opacity: 0; }
      .mem-icon:hover .icon-hover { opacity: 1; }
      .member-info-display .member-info-content { background: #222; color: #fff; padding: 10px; margin: 5px auto; width: 80%; border-radius: 5px; text-align: left; font-family: "Jua", sans-serif; font-weight: 400;font-style: normal; color: white;}

      /* memberinfocard */
      .member_info_wrapper {width: 100%; display: flex; justify-content: center; padding: 2rem;}
      .member_info_contain {max-width: 1200px; display: flex; justify-content: center; align-items: center; flex-direction: column; gap: 4rem;}

      /* video */
      .intro_video {width: 100%; height: 400px; padding: 2rem;}

      /* member-summary-detail */
      .member-summary-detail {width: 100%; display: flex; justify-content: center; align-items: center; gap: 4rem; }
      .member-summary-detail .left, .member-summary-detail .right { flex: 1; display: flex; flex-direction: column; gap: 2rem;}
      .member-summary-detail .left img { width: 100%; object-fit: contain; }
      .member-summary-detail .right .platform { width: 100%; display: flex; justify-content: space-around;
      }
      .member-summary-detail .right .platform .info {display: flex; justify-content: center; align-items: center;}
      .member-summary-detail .right .platform .info a {cursor: pointer;}
      .member-summary-detail .right .platform a img {height: 30px; object-fit: contain; margin-right: 0.2rem;}
      .member-summary-detail .right .platform .info {font-size: 0.6rem;}

      /* sum_video */
      .sum_video {display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 2rem;}
      .sum_video video {height: 400px;}

      /* vocal */
      .vocal {display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 2rem;}
      .vocal .text span {line-height: 2rem;}

      /* activities */
      .activities {text-align: center;}
      .activities .year {margin-bottom: 2rem;}
      .activities .year span {margin-bottom: 1rem;}
      .activities .year span a, .activities .year span a:visited {color: white;}
      /* rule */
      .rule {text-align: center;}

      /* BOARD 페이지 스타일 */
      .board-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 1200px; margin: 0 auto; }
      .board-box { background: #222; border: 1px solid #444; border-radius: 5px; display: flex; flex-direction: column; height: 300px; }
      .board-header { flex: 1; display: flex; justify-content: space-between; align-items: center; padding: 0 10px; border-bottom: 1px solid #444; }
      .board-header .board-title { font-size: 1.2em; }
      .board-header .board-add { background: #9b59b6; border: none; color: white; font-size: 1.5em; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; }
      .board-list { flex: 8; overflow-y: hidden; padding: 0 10px; }
      .board-list .board-post { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #444; cursor: pointer; }
      .board-list .board-post:last-child { border-bottom: none; }
      .board-list .post-index { width: 20%; text-align: left; }
      .board-list .post-title { width: 80%; text-align: left; }
      .board-footer { flex: 1; display: flex; justify-content: center; align-items: center; border-top: 1px solid #444; }
      .board-footer .board-more { background: #9b59b6; border: none; color: white; padding: 5px 10px; cursor: pointer; border-radius: 3px; }

      /* Full Board 페이지 스타일 */
      #page-board-full-news, #page-board-full-notice, #page-board-full-free, #page-board-full-suggest { max-width: 1200px; margin: 0 auto; }
      #page-board-full-news .full-header, #page-board-full-notice .full-header, #page-board-full-free .full-header, #page-board-full-suggest .full-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border-bottom: 2px solid #666; }
      #page-board-full-news .full-header h2, #page-board-full-notice .full-header h2, #page-board-full-free .full-header h2, #page-board-full-suggest .full-header h2 { font-size: 1.8em; }
      #page-board-full-news .full-list, #page-board-full-notice .full-list, #page-board-full-free .full-list, #page-board-full-suggest .full-list { padding: 20px; }
      #page-board-full-news .full-post, #page-board-full-notice .full-post, #page-board-full-free .full-post, #page-board-full-suggest .full-post { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #666; cursor: pointer; }
      #page-board-full-news .full-post:last-child, #page-board-full-notice .full-post:last-child, #page-board-full-free .full-post:last-child, #page-board-full-suggest .full-post:last-child { border-bottom: none; }
      #page-board-full-news .pagination, #page-board-full-notice .pagination, #page-board-full-free .pagination, #page-board-full-suggest .pagination { display: flex; justify-content: center; margin-top: 20px; }
      #page-board-full-news .pagination button, #page-board-full-notice .pagination button, #page-board-full-free .pagination button, #page-board-full-suggest .pagination button { background: #9b59b6; border: none; color: white; padding: 8px 15px; margin: 0 5px; cursor: pointer; border-radius: 3px; }
      .full-board-back { background-color: #9b59b6; border-radius: 2rem; border: none; width: 5rem; height: 2rem; color: white; font-weight: bold; cursor: pointer; }

      /* Modal 스타일 */
      .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 200; }
      .modal.active { display: flex; }
      .modal-content { background: #fff; color: #000; padding: 20px; border-radius: 5px; width: 90%; max-width: 600px; position: relative; }
      .modal-close { position: absolute; top: 10px; right: 10px; background: red; border: none; color: #fff; font-size: 1.2em; cursor: pointer; border-radius: 50%; width: 30px; height: 30px; }
      .modal-title { font-size: 1.5em; margin-bottom: 10px; }
      .modal-meta { font-size: 0.9em; margin-bottom: 10px; }
      .modal-body { margin-bottom: 10px; }
      .modal-comment { width: 100%; padding: 8px; font-size: 1em; }

      /* PLAYLIST 페이지 스타일 (1-1. playlist) */
      #page-playlist { padding: 20px; }
      .playlist-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 20px; }
      .playlist-item { background: #333; color: #fff; padding: 20px; text-align: center; cursor: pointer; border-radius: 10px; transition: transform 0.3s ease; }
      .playlist-item:hover { transform: scale(1.05); }
      .playlist-thumb img { width: 100%; height: auto; border-radius: 5px; margin-bottom: 10px; }
      .playlist-item.add { background: #9b59b6; font-size: 2em; display: flex; align-items: center; justify-content: center; }
      /* PLAYLIST ALL 페이지 스타일 (1-2. playlistAll) */
      #page-playlist-all { display: flex; flex-direction: column; height: 100%; }
      .playlist-all-banner img { width: 100%; height: auto; object-fit: cover; }
      .playlist-all-header { flex: 1; display: flex; justify-content: space-between; align-items: center; padding: 20px; background: #222; color: #fff; }
      .playlist-all-header h2 { margin: 0; }
      .playlist-all-header-buttons { display: flex; gap: 10px; }
      .playlist-edit-btn, .playlist-list-btn { background: #9b59b6; border: none; color: #fff; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
      .playlist-edit-btn:hover, .playlist-list-btn:hover { opacity: 0.8; }
      .playlist-all-body { flex: 9; padding: 20px; overflow-y: auto; background: #111; color: #fff; }
      .song-item { padding: 10px; border-bottom: 1px solid #444; }
      /* 공통 플레이리스트 모달 스타일 */
      .playlist-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: flex; align-items: center; justify-content: center; z-index: 300; padding: 20px; }
      .playlist-modal-content { background: #fff; color: #000; padding: 20px; border-radius: 10px; width: 90%; max-width: 500px; position: relative; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
      .playlist-modal-content h2 { margin-top: 0; text-align: center; }
      .playlist-modal-content input[type="text"] { width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; }
      .playlist-modal-content button { background: #9b59b6; color: #fff; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 5px; }
      .modal-close { position: absolute; top: 10px; right: 10px; background: #e74c3c; color: #fff; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; }

    </style>
  </head>
  <body>
    <div id="app" class="container">
      <!-- 상단 영역 -->
      <header>
        <div class="left">
          <div class="logo">
            <img src="source/logo.svg" alt="logo" />
          </div>
        </div>
        <div class="center">
          <nav class="nav">
            <a @click="switchPage('page-main')">MAIN</a>
            <a @click="switchPage('page-member')">MEMBER</a>
            <a @click="switchPage('page-board')">BOARD</a>
            <a @click="switchPage('page-playlist')">PLAYLIST</a>
          </nav>
        </div>
        <div class="right">
          <div class="profile">
            <img class="profile-card" src="source/profile.jpg" alt="profile" />
            <span class="guest-name">GUEST</span>
            <button id="auth-btn">Login</button>
          </div>
        </div>
      </header>

      <!-- SPA 콘텐츠 영역 -->
      <div class="main-content">
        <!-- 로딩 페이지 -->
        <section v-if="currentPage === 'page-loading'" id="page-loading">
          <div class="loading-bg">
            <iframe
              class="loading-video"
              src="https://www.youtube.com/embed/v9Jqz13gg8k?autoplay=1&mute=1&loop=1&playlist=v9Jqz13gg8k"
              frameborder="0"
              allow="autoplay; encrypted-media"
              allowfullscreen
            ></iframe>
          </div>
          <div class="loading-logo">
            <img
              src="source/logo.svg"
              alt="logo"
              style="filter: invert(100%)"
            />
          </div>
          <div class="loading-progress">
            <div class="progress-bar">
              <div
                class="progress-fill"
                :style="{ width: loadingPercent + '%' }"
              ></div>
            </div>
            <div class="progress-percent">{{ loadingPercent }}%</div>
          </div>
        </section>

        <!-- MAIN 페이지 -->
        <section v-if="currentPage === 'page-main'" id="page-main">
          <section id="banner">
            <div class="swiper-container main_banner">
              <div class="swiper-wrapper">
                <div
                  class="swiper-slide"
                  v-for="(slider, index) in sliders"
                  :key="index"
                >
                  <img :src="'source/adverties/' + slider.img" alt="배너 사진 없음" />
                </div>
              </div>
              <div class="swiper-button-next"></div>
              <div class="swiper-button-prev"></div>
              <div class="swiper-pagination"></div>
            </div>
          </section>
          <section id="member">
            <div id="main-member">
              <div class="member-icons"id="member-icons" :class="{ fold: showDetail }">
                <div
                  class="member-icon"
                  v-for="member in members"
                  :key="member.index"
                  :data-index="member.index"
                  :data-img1="member.img1"
                  :data-img2="member.img2"
                  :data-img3="member.img3"
                  :data-info="member.info"
                  @click="showMemberDetail(member.index)"
                >
                  <img
                    :src="'source/profiles/' + member.index + '.png'"
                    alt="Member Icon"
                  />
                </div>
              </div>
              <div class="member-detail" id="member-detail" :class="{ active: showDetail }" >
                <button class="detail-close" @click="hideMemberDetail">
                  X
                </button>
                <div class="member-detail-content">
                  <div class="detail-left">
                    <img
                      v-for="img in memberImages"
                      :key="img"
                      :src="img"
                      class="detail-photo"
                    />
                  </div>
                  <div class="detail-right" v-html="memberInfo"></div>
                </div>
              </div>
            </div>
          </section>
          <section id="latest_song">
            <div class="latest-song-wrapper">
              <div
                class="album-art-container"
                @mouseenter="showSongTitles"
                @mouseleave="hideSongTitles"
              >
                <img class="card card1" src="source/syzygy.jpg" />
                <div class="card card2">
                  <iframe
                    width="560"
                    height="315"
                    src="https://www.youtube.com/embed/v9Jqz13gg8k?si=UGJvJwg1iWEMl-tT"
                    title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin"
                    allowfullscreen
                  ></iframe>
                </div>
              </div>
              <div class="song-icons" id="song-icons" :class="{ vertical: isSongTitlesVisible }">
                <div class="icon-item" v-for="(song, index) in songs" :key="index">
                  <div class="icon">{{ index + 1 }}</div>
                  <span v-show="isSongTitlesVisible">{{ song[i] }}</span>
                </div>
              </div>
            </div>
          </section>
          <!-- VIDEO 섹션: Vue 환경에 맞게 initVideo가 nextTick 후 호출되어 등록됨 -->
          <section id="video">
            <div class="container">
              <div class="video-container" id="video-container">
                <div
                  class="video-card"
                  v-for="(card, index) in videoCards"
                  :key="index"
                  :class="{ animate: card.animate, 'float-animation': card.float, active: card.active, hidden: card.hidden }"
                  @click="onVideoCardClick(index)"
                >
                  <!-- 클릭 전: 기본 프로필 이미지 출력 -->
                  <template v-if="!card.showVideo">
                    <img
                      :src="'source/thumbnail/' + card.defaultImg"
                      alt="Member Icon"
                    />
                  </template>

                  <!-- 클릭 후: 영상 출력 (iframe) -->
                  <template v-else>
                    <iframe
                      width="100%"
                      height="100%"
                      :src="card.youtubeUrl[card.index]"
                      title="YouTube video player"
                      frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen
                    >
                    </iframe>
                  </template>
                </div>
                <button
                  class="close-btn"
                  id="video-close-btn"
                  @click="onCloseVideoCard"
                  :class="{ show: activeVideoCard !== null }"
                >
                  X
                </button>
              </div>
            </div>
          </section>

          <section id="award">
            <div class="container">
              <!-- ltr 방향 슬라이드 (다른 슬라이드도 동일하게 적용) -->
              <div class="reward-row" data-direction="ltr">
                <div class="reward-slider">
                  <!-- 수정된 reward-card 구조: awardCards 배열을 v-for로 출력 -->
                  <div class="reward-card" v-for="(card, index) in awardCards" :key="index">
                    <div class="card-icon">
                      <img :src="card.icon" alt="아이콘" />
                    </div>
                    <div class="card-info">
                      {{ card.info }}
                    </div>
                  </div>
                </div>
                <div class="fade fade-left"></div>
                <div class="fade fade-right"></div>
              </div>
              <!-- rtl 방향 슬라이드 (동일 구조 적용) -->
              <div class="reward-row" data-direction="rtl">
                <div class="reward-slider">
                  <div class="reward-card" v-for="(card, index) in awardCards" :key="index">
                    <div class="card-icon">
                      <img :src="card.icon" alt="아이콘" />
                    </div>
                    <div class="card-info">
                      {{ card.info }}
                    </div>
                  </div>
                </div>
                <div class="fade fade-left"></div>
                <div class="fade fade-right"></div>
              </div>
            </div>
          </section>          

          <footer>
            <div class="footer-container">
              <div class="footer-left" :class="{ animate: isFooterVisible }">
                <div class="image-group">
                  <img
                    class="shape-rect"
                    src="source/lp_plyaer-removebg-preview.png"
                    alt="rect"
                  />
                  <img class="shape-circle" src="source/disk.png" alt="disk" />
                  <img
                    class="shape-triangle"
                    src="source/chim.png"
                    alt="triangle"
                  />
                </div>
              </div>
              <div class="footer-right">
                <p>Name: Seo Jae Ung</p>
                <p>
                  Email:
                  <a
                    href="/cdn-cgi/l/email-protection"
                    class="__cf_email__"
                    data-cfemail="46223e272b362a23062b272f2a6825292b"
                  >
                    wodnd565@gmail.com
                  </a>
                </p>
                <p><a href="https://github.com/ungs1026">GitHub</a></p>
                <p>Address: 서울시 구로구</p>
                <p>&copy; 2025 All Rights Reserved</p>
              </div>
            </div>
          </footer>
        </section>

        <!-- MEMBER 페이지 -->
        <section v-if="currentPage === 'page-member'" id="page-member">
          <div id="member-slider" class="member-slider">
            <div class="member-slider-wrapper">
              <!-- v-for를 사용하여 albums 배열 순회. 각 카드에 고정 경로와 album.img를 결합 -->
              <div class="member-slider-card" v-for="(album, index) in albums" :key="album.idx" @click="toggleMemberSliderCard(index)" >
                <a v-if="album.url" :href="album.url" target="_blank">
                  <img :src="'source/albums/' + album.img" alt="Album Image" />
                </a>
              </div>
            </div>
            <div class="member-slider-fade member-slider-fade-left"></div>
            <div class="member-slider-fade member-slider-fade-right"></div>
          </div>
          <div id="member-info">
            <div class="member-icons-row">
              <div
                class="mem-icon"
                v-for="(icon, index) in memberIcons"
                :key="index"
                @click="showMemberInfo(index)"
              >
                <div
                  class="icon-default"
                  :style="{ backgroundImage: `url(${icon.defaultImg})` }"
                ></div>
                <div
                  class="icon-hover"
                  :style="{ backgroundImage: `url(${icon.hoverImg})` }"
                ></div>
              </div>
            </div>
            <div class="member-info-display">
              <!-- 기존 한 줄 텍스트 대신 div(info-section)를 사용해 HTML 포맷의 상세 정보를 작성할 수 있음 -->
              <div class="member-info-content" v-for="(info, index) in memberInfos" :key="index" v-show="activeMemberInfo === index">
                <div class="info-section" v-html="info"></div>
              </div>
            </div>

          </div>
        </section>

        <!-- BOARD 페이지 -->
        <section v-if="currentPage === 'page-board'" id="page-board">
          <div class="board-grid">
            <div
              class="board-box"
              v-for="board in boards"
              :key="board.type"
              :data-board="board.type"
            >
              <div class="board-header">
                <span class="board-title">{{ board.title }}</span>
                <button class="board-add" @click="showFullBoard(board.type)">
                  +
                </button>
              </div>
              <div class="board-list">
                <div
                  class="board-post"
                  v-for="(post, pIndex) in board.posts"
                  :key="pIndex"
                  @click="showPostModal(post)"
                >
                  <div class="post-index">{{ pIndex + 1 }}</div>
                  <div class="post-title">{{ post.title }}</div>
                </div>
              </div>
              <div class="board-footer">
                <button class="board-more" @click="showFullBoard(board.type)">
                  더보기
                </button>
              </div>
            </div>
          </div>
        </section>

        <!-- Full Board Pages -->
        <section
          v-if="currentPage === 'page-board-full-news'"
          id="page-board-full-news"
        >
          <div class="full-header">
            <h2>NEWS 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">
              뒤로가기
            </button>
          </div>
          <div class="full-list">
            <div
              class="full-post"
              v-for="(post, index) in paginatedFullPosts.news"
              :key="index"
              @click="showPostModal(post)"
            >
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-title">{{post.title}}</div>
              <div class="post-writer">{{ post.writer }}</div>
            </div>
          </div>
          <div class="pagination">
            <button
              v-for="page in totalPages.news"
              :key="page"
              @click="changePage('news', page)"
            >
              {{ page }}
            </button>
          </div>
        </section>
        <section
          v-if="currentPage === 'page-board-full-notice'"
          id="page-board-full-notice"
        >
          <div class="full-header">
            <h2>공지사항 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">
              뒤로가기
            </button>
          </div>
          <div class="full-list">
            <div
              class="full-post"
              v-for="(post, index) in paginatedFullPosts.notice"
              :key="index"
              @click="showPostModal(post)"
            >
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-writer">{{ post.writer }}</div>
            </div>
          </div>
          <div class="pagination">
            <button
              v-for="page in totalPages.notice"
              :key="page"
              @click="changePage('notice', page)"
            >
              {{ page }}
            </button>
          </div>
        </section>
        <section
          v-if="currentPage === 'page-board-full-free'"
          id="page-board-full-free"
        >
          <div class="full-header">
            <h2>자유게시판 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">
              뒤로가기
            </button>
          </div>
          <div class="full-list">
            <div
              class="full-post"
              v-for="(post, index) in paginatedFullPosts.free"
              :key="index"
              @click="showPostModal(post)"
            >
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-writer">{{ post.writer }}</div>
            </div>
          </div>
          <div class="pagination">
            <button
              v-for="page in totalPages.free"
              :key="page"
              @click="changePage('free', page)"
            >
              {{ page }}
            </button>
          </div>
        </section>
        <section
          v-if="currentPage === 'page-board-full-suggest'"
          id="page-board-full-suggest"
        >
          <div class="full-header">
            <h2>건의사항 전체</h2>
            <button class="full-board-back" @click="switchPage('page-board')">
              뒤로가기
            </button>
          </div>
          <div class="full-list">
            <div
              class="full-post"
              v-for="(post, index) in paginatedFullPosts.suggest"
              :key="index"
              @click="showPostModal(post)"
            >
              <div class="post-index">{{ index + 1 }}</div>
              <div class="post-writer">{{ post.writer }}</div>
            </div>
          </div>
          <div class="pagination">
            <button
              v-for="page in totalPages.suggest"
              :key="page"
              @click="changePage('suggest', page)"
            >
              {{ page }}
            </button>
          </div>
        </section>

        <!-- PLAYLIST 페이지 -->
        <!-- PLAYLIST 페이지 (1-1. playlist) -->
        <section v-if="currentPage === 'page-playlist'" id="page-playlist">
          <h2>플레이리스트</h2>
          <div class="playlist-grid">
            <div class="playlist-item" v-for="(pl, index) in playlists" :key="pl.idx" @click="viewPlaylistAll(pl)">
              <div class="playlist-thumb">
                <img :src="'source/profiles/' + pl.thumbnail" alt="Playlist Thumbnail" />
              </div>
              <div class="playlist-name">{{ pl.name }}</div>
            </div>
            <div class="playlist-item add" @click="openPlaylistAddModal">+</div>
          </div>
        </section>

        <!-- PLAYLIST ALL 페이지 (수정 후) -->
        <!-- PLAYLIST ALL 페이지 (수정 후) -->
        <section v-if="currentPage === 'page-playlist-all'" id="page-playlist-all">
          <div class="playlist-all-banner">
            <img
              :src="selectedPlaylistSongs.length > 0 ? 'source/mp3/' + selectedPlaylistSongs[0].thumbnail : 'isedol.png'"
              alt="Playlist Banner"
            />
          </div>
          <div class="playlist-all-header">
            <h2>
              <!-- 만약 playlists 배열에 저장된 해당 idx의 이름을 출력하고 싶다면 -->
              {{ playlists.find(pl => pl.idx === selectedPlaylistIdx)?.name || '플레이리스트' }}
            </h2>
            <div class="playlist-all-header-buttons">
              <button class="playlist-edit-btn" @click="openPlaylistEditModal">
                수정
              </button>
              <button class="playlist-list-btn" @click="switchPage('page-playlist')">
                리스트
              </button>
            </div>
          </div>
          <!-- 노래 목록 출력 부분 -->
          <div class="playlist-all-body">
            <div
              class="song-item"
              v-for="(song, index) in selectedPlaylistSongs"
              :key="song.idx"
              @click="playSongFromPlaylist(index)"
            >
              <span class="song-title">{{ song.title }}</span> -
              <span class="song-artist">{{ song.artist ? song.artist.name : '' }}</span>
            </div>
          </div>
        </section>

      </div>

      <!-- Modal -->
      <div class="modal" :class="{ active: isModalActive }">
        <div class="modal-content">
          <button class="modal-close" @click="closeModal">&times;</button>
          <div class="modal-title">{{ modalTitle }}</div>
          <div class="modal-meta">{{ modalMeta }}</div>
          <div class="modal-body">{{ modalBody }}</div>
          <input
            type="text"
            class="modal-comment"
            placeholder="댓글을 입력하세요"
          />
        </div>
      </div>

      <!-- 플레이리스트 추가 모달 (playlist 페이지에서 플러스 버튼 클릭 시) -->
      <div class="playlist-modal" v-if="isPlaylistAddModalActive">
        <div class="playlist-modal-content">
          <button class="modal-close" @click="closePlaylistAddModal">×</button>
          <h2>새 플레이리스트 추가</h2>
          <!-- 입력폼 예시 -->
          <input
            type="text"
            placeholder="플레이리스트 이름"
            v-model="newPlaylistName"
          />
          <button @click="addNewPlaylist">저장</button>
        </div>
      </div>

      <!-- 플레이리스트 수정 모달 (playlistAll 페이지 상단 수정 버튼 클릭 시) -->
      <div class="playlist-modal" v-if="isPlaylistEditModalActive">
        <div class="playlist-modal-content">
          <button class="modal-close" @click="closePlaylistEditModal">×</button>
          <h2>플레이리스트 수정</h2>
          <!-- 현재 플레이리스트 이름을 수정하는 입력폼 예시 -->
          <input
            type="text"
            placeholder="플레이리스트 이름 수정"
            v-model="currentPlaylist.name"
          />
          <!-- 추가적으로 플레이리스트에 포함된 노래 수정 기능 등 구현 -->
          <button @click="savePlaylistChanges">저장</button>
        </div>
      </div>

      <!-- Music Playbar (수정 후) -->
      <div id="playbar">
        <div class="pb-left">
          <div class="album-art">
            <img
              :src="(currentPlaylist && currentPlaylist.songs && currentPlaylist.songs[currentSongIndex])
                  ? 'source/mp3/' + currentPlaylist.songs[currentSongIndex].thumbnail 
                  : 'source/profile.jpg'"
              alt="Album Art"
            />
          </div>
          <div class="song-info">
            <span class="song-title">
              {{ (currentPlaylist && currentPlaylist.songs && currentPlaylist.songs[currentSongIndex])
              ? currentPlaylist.songs[currentSongIndex].title : '노래 제목' }}
            </span>
            <span class="song-artist" style="text-transform: uppercase;">
              {{ (currentPlaylist && currentPlaylist.songs && currentPlaylist.songs[currentSongIndex])
              ? currentPlaylist.songs[currentSongIndex].artist.name : '아티스트' }}
            </span>
          </div>
        </div>
        
        
        <div class="pb-center">
          <div class="controls">
            <div class="btn" @click="toggleRandom">
              <img src="source/shuffle.png" alt="랜덤" :style="{ filter: isRandomMode ? 'sepia(100%) hue-rotate(90deg)' : 'none' }" />
            </div>
            <div class="btn" @click="prevSong">
              <img src="source/previous.png" alt="이전" />
            </div>
            <div class="btn" @click="togglePlayPause">
              <img :src="playPauseIcon" alt="재생/정지" />
            </div>
            <div class="btn" @click="nextSong">
              <img src="source/next.png" alt="다음" />
            </div>
            <div class="btn" @click="toggleRepeat">
              <img :src="repeatIcon" alt="반복" />
            </div>
          </div>
          <div class="time-info">
            <div class="elapsed">{{ elapsedTime }}</div>
            <div class="progress">
              <input
                type="range"
                v-model="progress"
                @input="seek"
                min="0"
                max="100"
              />
            </div>
            <div class="remaining">{{ remainingTime }}</div>
          </div>
        </div>
        <div class="pb-right">
          <div class="volume-control">
            <input
              type="range"
              v-model="volume"
              @input="setVolume"
              min="0"
              max="100"
            />
          </div>
          <div class="volume-percentage">{{ volume }}%</div>
        </div>
      </div>

    </div>

    <script>
      const { createApp, ref, onMounted, computed, nextTick } = Vue;

      createApp({
        setup() {
          // Supabase 연결 설정
          const SUPABASE_URL = "https://pdwbghdbrzcaftdzjegw.supabase.co"; // 여기에 네 프로젝트 URL 입력
          const SUPABASE_ANON_KEY =
            "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBkd2JnaGRicnpjYWZ0ZHpqZWd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDMwNjI4NzYsImV4cCI6MjA1ODYzODg3Nn0.PS9lyc45XXnhVw52qq9TOQyYiWclxNxPwLGtSFX8VbI"; // 여기에 네 공개 키 입력
          // Supabase 클라이언트 생성
          const supabase = window.supabase.createClient(
            SUPABASE_URL,
            SUPABASE_ANON_KEY
          );

          // 반응형 데이터 정의
          const currentPage = ref("page-loading");
          const loadingPercent = ref(0);
          const showDetail = ref(false);
          const memberImages = ref([]);
          const memberInfo = ref("");
          const isSongTitlesVisible = ref(false);
          const isFooterVisible = ref(false);
          const isModalActive = ref(false);
          const modalTitle = ref("");
          const modalMeta = ref("");
          const modalBody = ref("");
          const activeVideoCard = ref(null);
          const activeMemberInfo = ref(null);
          const currentTime = ref(0); // 오디오 재생시간 업데이트용
          const moveid = ref(0);

          // mainPage
          const sliders = ref([]);

          // memberPage
          const albums = ref([]);

          // 데이터 정의
          const members = ref([
            {
              index: "ine",
              img1: "source/profiles/ine/ine_face.png",
              img2: "source/profiles/ine/ine_body.png",
              img3: "source/profiles/ine/ine_fan.png",
              info: "INE.",
            },
            {
              index: "jingburger",
              img1: "source/profiles/jingburger/jing_face.png",
              img2: "source/profiles/jingburger/jing_body.png",
              img3: "source/profiles/jingburger/jing_fan.png",
              info: "JINGBURGER",
            },
            {
              index: "lilpa",
              img1: "source/profiles/lilpa/lil_face.png",
              img2: "source/profiles/lilpa/lil_body.png",
              img3: "source/profiles/lilpa/lil_fan.png",
              info: "LILPA",
            },
            {
              index: "jururu",
              img1: "source/profiles/jururu/ju_face.png",
              img2: "source/profiles/jururu/ju_body.png",
              img3: "source/profiles/jururu/ju_fan.png",
              info: "JURURU",
            },
            {
              index: "gosegu",
              img1: "source/profiles/gosegu/go_face.png",
              img2: "source/profiles/gosegu/go_body.png",
              img3: "source/profiles/gosegu/go_fan.png",
              info: "GOSEGU.",
            },
            {
              index: "viichan",
              img1: "source/profiles/viichan/vi_face.png",
              img2: "source/profiles/viichan/vi_body.png",
              img3: "source/profiles/viichan/vi_fan.png",
              info: "VIICHAN",
            },
          ]);
          const songs = ref([
            "곡 제목 1",
            "곡 제목 2",
            "곡 제목 3",
            "곡 제목 4",
          ]);
          const videoCards = ref(
            Array.from({ length: 6 }, (_, i) => ({
              index: i,
              text: `Card ${i + 1}`,
              animate: false,
              float: false,
              active: false,
              hidden: false,
              // 새 속성: 각 카드마다 기본 프로필 이미지와 영상 URL (예시로 값 지정)
              youtubeUrl: [
                `https://www.youtube.com/embed/mZ0na_Mwr4o?autoplay=1`,
                `https://www.youtube.com/embed/P4LQ8GksntI?autoplay=1`,
                `https://www.youtube.com/embed/FKkCFn3ib7w?autoplay=1`,
                `https://www.youtube.com/embed/sv5VaWp0keI?autoplay=1`,
                `https://www.youtube.com/embed/CFNb-iKaMME?autoplay=1`,
                `https://www.youtube.com/embed/HPnZ9-I1COw?autoplay=1`,
              ],
              showVideo: false,
            }))
          );

          const awardCards = ref([
            { icon: 'source/award/melon.png', info: ''},
            { icon: 'source/award/lockdown.webp', info: '24H 스트리밍 - 1,156,500' },
            { icon: 'source/award/another.webp', info: '24H 스트리밍 - 1,335,900' },
            { icon: 'source/mp3/1ISEDOL/kidding.jpg', info: '24H 스트리밍 - 2,109,700' },
            { icon: 'source/award/melon.png', info: '24H 스트리밍 - 1,825,900' },
            { icon: 'source/award/superhero.webp', info: ''},
            { icon: 'source/mp3/1ISEDOL/kidding.jpg', info: '3위' },
            { icon: 'source/award/빌보드글로벌.png'},
            { icon: 'source/mp3/1ISEDOL/kidding.jpg', info: '167위' },
          ]);

          // 임시 플레이리스트 더미 데이터: 총 3개의 플레이리스트 (각각 id, 이름, 음악 리스트 포함)
          const playlists = ref([]);

          const fetchPlaylists = async () => {
            const { data, error } = await supabase
              .from("playlists")
              .select("*")
              .order("idx", { ascending: true });
            if (error) {
              console.error("플레이리스트 로드 에러:", error);
            } else {
              playlists.value = data;
            }
          };

          const goToPlaylistPage = () => {
            switchPage("page-playlist");
          };

          // 현재 선택된 플레이리스트 정보를 저장 (playlistAll 페이지에서 사용)
          const currentPlaylist = ref(null);

          const selectedPlaylistSongs = ref([]);
          const selectedPlaylistIdx = ref(null);

          // 2. 플레이리스트 아이템 클릭 시 songs 및 아티스트 정보 가져오기
          const viewPlaylistAll = (playlist) => {
            // 선택한 플레이리스트의 idx만 저장
            selectedPlaylistIdx.value = playlist.idx;
            // 페이지 전환만 수행 (playbar의 재생 목록은 변경하지 않음)
            switchPage("page-playlist-all");
          };

          const fetchSelectedPlaylistSongs = async () => {
            // playlists는 이미 Supabase에서 전체 플레이리스트를 불러온 배열로 가정합니다.
            const selectedPlaylist = playlists.value.find(
              (pl) => pl.idx === selectedPlaylistIdx.value
            );
            if (selectedPlaylist) {
              const { data, error } = await supabase
                .from("songs")
                .select("*, artist:artists(name)")
                .in("idx", selectedPlaylist.play_list);
              if (error) {
                console.error("선택한 플레이리스트 노래 로드 에러:", error);
              } else {
                selectedPlaylistSongs.value = data;
              }
            } else {
              console.error("선택한 플레이리스트를 찾을 수 없습니다.");
            }
          };


          // 플레이리스트 추가 모달 활성화 여부 (2-1)
          const isPlaylistAddModalActive = ref(false);
          // 플레이리스트 수정 모달 활성화 여부 (2-2)
          const isPlaylistEditModalActive = ref(false);

          // 플레이리스트 추가 모달 열기/닫기 함수
          const openPlaylistAddModal = () => {
            isPlaylistAddModalActive.value = true;
          };
          const closePlaylistAddModal = () => {
            isPlaylistAddModalActive.value = false;
          };

          // 플레이리스트 수정 모달 열기/닫기 함수
          const openPlaylistEditModal = () => {
            isPlaylistEditModalActive.value = true;
          };
          const closePlaylistEditModal = () => {
            isPlaylistEditModalActive.value = false;
          };

          const memberSliderCards = ref(
            Array.from({ length: 8 }, () => ({ videoMode: false }))
          );
          const memberIcons = ref([
            { defaultImg: "source/profiles/profile-ine.png", hoverImg: "source/profiles/ine.png" },
            { defaultImg: "source/profiles/profile-jingburger.png", hoverImg: "source/profiles/jingburger.png" },
            { defaultImg: "source/profiles/profile-lilpa.png", hoverImg: "source/profiles/lilpa.png" },
            { defaultImg: "source/profiles/profile-jururu.png", hoverImg: "source/profiles/jururu.png" },
            { defaultImg: "source/profiles/profile-gosegu.png", hoverImg: "source/profiles/gosegu.png" },
            { defaultImg: "source/profiles/profile-viichan.png", hoverImg: "source/profiles/viichan.png" },
          ]);
          const memberInfos = ref([
            // ine
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/Bx68J--HyhI?si=DfKsxJh_F0DDgg8D"
                    title="YouTube video player" frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>

                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/ine/ine_body.png" alt="">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>아이네(INE)</h2>
                      <span>출생 : 1994년 (31세)</span><br>
                      <span>거주지 : 수도권 외 시골</span><br>
                      <span>신체 : 158cm｜B형</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님, 남동생</span><br>
                      <span>반려견 : 뭉뭉이(견종 불명)</span><br>
                      <span>상징색 : 파란제비꽃색 #8A2BE2</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 둘기</span><br>
                      <span>MBTI : INFP</span><br>
                      <span>별명 : 이네땅, 아잉네, 아굳형 등</span>
                      <img src="source/profiles/ine/ine.svg" alt="" style="width: 140px; background-color: white; border-radius: 10px;" >
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/@INE" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>아이네<br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@Desuk">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>데친<br> 숙주나물</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@INE_dasibogi">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>아이네<br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/inehine">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>방송국</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/ine/intro.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>흐으으으으음~ 하이네~~!!!!!!!!!!!</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/aaqIHn61OVE?si=okZUUJlywxhL1Ah3" 
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 오디션 때부터 팬들은 물론이고, 합격 후 이세돌 멤버들도 입을 모아 릴파와 함께 메인보컬로 꼽을 정도로 노래 실력이 뛰어나다. 그룹 내에서 공식 포지션은 정해지지 않았지만 보통 노래 후렴구와 같은 하이라이트 파트와 화음, 코러스를 담당하는 등 비공식적으로도 그 역할을 하는 편.</span><br>
                    <span>- 허스키한 톤에 풍부한 성량과 넓은 음역대를 지니고 있으며, 특히 감정을 연기하는 데 있어 특출난 기교를 갖춘 훌륭한 보컬의 소유자이다. 소화할 수 있는 장르의 영역도 그만큼 넓다</span><br>
                    <span>- 아이네의 보컬로서의 큰 강점은 명료한 딕션과 뛰어난 완급조절 및 끝음처리를 통해 노래가 의도하는 감정을 그대로 담아 전달하는 표현력이다. 음 하나하나와 호흡까지도 섬세하게 계산된 의도를 담아 부르는 그녀의 노래는 청자에게 기교와 스킬의 차원을 뛰어넘은 매력으로 다가오며, 이는 아이네의 보컬이 많은 사람들에게 사랑을 받는 이유이기도 하다. 여기에 더해 마치 성대를 갈아끼워 넣는 것마냥 노래의 분위기에 따라 전혀 다른 창법과 음색으로 다양한 스타일의 장르들을 능숙하게 소화해 낸다.</span><br>
                    <span>- 음악을 사랑하는 부모님의 희망으로 어렸을 때부터 다양한 콩쿠르에 참여하면서 성악가를 장래 희망으로 삼았으며, 자신의 실력에 한계를 느껴 고등학생 때 즈음 꿈을 접었지만 이후 다시금 노래를 제대로 해보고 싶다는 희망이 생겨 실용음악을 공부했다고 한다.</span><br>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2021년</h2>
                    <span>9월 9일 : 제 1회 <a href="https://namu.wiki/w/%EA%B5%AC%EA%B5%AC%EC%9D%98%20%EB%82%A0" target="_blank">구구의 날</a></span>
                  </div>
                  <div class="year">
                    <h2>2022년</h2>
                    <span>4월 2일 : <a href="https://www.youtube.com/watch?v=OUT33SIFEK0" target="_blank">없는 계절</a> 발매</span>
                    <span>10월 9일 : <a href="https://www.youtube.com/watch?v=lttoODN5hOo" target="_blank">햄이네 락페스티벌</a></span>
                  </div>
                  <div class="year">
                    <h2>2023년</h2>
                    <span>9월 9일 <a href="https://namu.wiki/w/%EA%B5%AC%EA%B5%AC%EC%9D%98%20%EB%82%A0" target="_blank">제 2회 구구의 날</a></span>
                  </div>
                  <div class="year">
                    <h2>2024년</h2>
                    <span>2월 10일 : <a href="아이네 아프리카TV 데뷔 콘서트" target="_blank">아이네 아프리카TV 데뷔 콘서트</a></span>
                    <span>5월 11일 <a href="https://www.youtube.com/live/aCa5qn11IrI" target="_blank">EVER PURPLE</a>콘서트</span>
                    <span>9월 9일 : <a href="https://www.youtube.com/watch?v=jv_OeXLXCHs" target="_blank">제 3회 구구의 날</a></span>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/ine/ine_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>(예외도 있긴하지만) 방장이 언급전에 타스트리머 언급/방송주제와 상관없는 채팅/훈수/중계/비교/평가/시청자수언급/친목/네임드/도배/물타기/뇌절/개인정보 추측 <br>외에도 방장 주관적인 상황에 따른 알잘딱 못하는 선넘는 행동 위와 같은 행동을 했을시 즉시 밴 혹은 채팅금지 / 경고 혹은 채팅금지를 3번 받을시 밴</span>
                </div>

              </div>
            </div>`,
            // jingburger
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/-CJa1On8gh4?si=qGxgbqQ__JtadNzJ" 
                  title="YouTube video player" frameborder="0" 
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                  referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>

                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/jingburger/jing_body.png" alt="" style="height: 400px;">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>징버거(JINGBURGER)</h2>
                      <span>출생 : 1995년 10월 8일 (29세)</span><br>
                      <span>거주지 : 울산광역시</span><br>
                      <span>신체 : 161.9cm｜B형</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님, 큰오빠 거머리TV, 작은오빠</span><br>
                      <span>상징색 : 노란색 빨간색</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 똥강아지</span><br>
                      <span>MBTI : INTJ</span><br>
                      <span>별명 : 부가땅, 버건니, 버그 등</span>
                      <img src="source/profiles/jingburger/jing.webp" alt="" style="width: 140px;  background-color: white; border-radius: 10px;" >
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/@jingburger" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>징버거<br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@jingburger2k">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>징버거가 ZZANG센 주제에<br> 너무 신중하다</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@jingburger_dasibogi">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>징버거의<br> 무한 츠쿠요미</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/jingburger1">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>방송국</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/jingburger/jingburger.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>하이부가~~~~~~~~</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/8MImc3MxYZg?si=eru7EusfDDG4QktU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- TOMBOY나 LOVE DIVE와 같은 K-POP 장르는 물론이고 STAY, 별빛 등대의 섬, 강풍 올백 등 여러 장르의 곡을 커버했다.</span><br>
                    <span>- 목소리의 스타일을 바꿀 수 있어 이세계아이돌 보컬의 또 다른 코어 역할을 담당한다. 멤버들 저마다의 음색에 개성이 강한 팀이기에 연결고리 역할을 수행할 다재다능한 보컬이 필요한데, 징버거가 파트에 맞게 톤을 바꿔가며 이 역할을 수행한다.</span><br>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2024년</h2>
                    <span>2월 10일 : <a href="https://www.youtube.com/watch?v=0HcTddHouRo" target="_blank">징버거 아프리카TV 데뷔 콘서트</a></span>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/jingburger/jing_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>채팅 규칙
                    채금 3회 > 강퇴 1회 / 강퇴 3회 > 블랙 (방송못봐요) <br>
                    - 시청자 수 언급 금지 <br>
                    - 타비제이 언급, 비하, 비교 발언 금지 <br>
                    - 경찰 행동 금지<br>
                    - 훈수 금지 (물어볼때만 가능) <br>
                    - 신상정보 및 전생 언급 금지 <br>
                    - 정치/종교, 성차별 발언 금지 <br>
                    - 뻐꾸기, 중계 금지<br>
                    - 스포 금지</span>
                </div>
              </div>
            </div>
            `,
            // lilpa
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/cQ97HyrHYOI?si=yZfj3AlP4m3KBkPR" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/lilpa/lil_body.png" alt="" style="height: 400px;">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>릴파(LILPA)</h2>
                      <span>출생 : 1996년 3월 9일 (29세)</span><br>
                      <span>출생지 : 부산광역시</span><br>
                      <span>신체 : 164cm｜O형</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님, 언니</span><br>
                      <span>반려견 : 반려견 아토</span>
                      <span>상징색 : 남색</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 박쥐단</span><br>
                      <span>MBTI : ENFP</span><br>
                      <span>별명 : 김릴파, 릴파넴, 릴트리버 등</span>
                      <img src="source/profiles/lilpa/lil.svg" alt="" style="width: 140px;  background-color: white; border-radius: 10px;" >
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/@lilpa" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>징버거<br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@lilpa_sub">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>릴파의<br> 순간들</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@lilpa_vod">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>릴파<br> 다시보기</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/lilpa0309">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>릴파♬</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/lilpa/lilpa.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>에블바리 세이~ 리라리라~!</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/SPyUgq5ukNE?si=NwcsbHqiqHvlm5cz" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 이세계아이돌 활동 초기부터 멤버들이나 팬들 사이에서 아이네와 함께 메인보컬로 거론될 만큼 실력이 좋다. 물론 각 멤버마다 공식적으로 정해진 포지션은 없지만 대체로 후렴, 클라이맥스 고음 파트와 같은 하이라이트나 애드립과 코러스를 맡는 등 중추적인 역할을 하는 편. 기본기가 좋으며 단단한 성대와 발성, 매우 넓은 음역대[35], 큰 성량을 소화하는 고유의 창법 등 특색있는 매력을 가지고 있어 다양한 장르에서 본인만의 색을 드러내는 것이 가능한 보컬이다.</span><br>
                    <span>- 실제 아이돌 그룹 메인보컬로 활동한 경력이 있고 재즈 보컬을 전공으로 배우기도 하였다. 팬들 사이에서 굉장히 높은 음까지도 시원하게 올라가는 고음역대에 대한 인상이 깊은 데다, 릴파 본인도 락밴드 장르를 좋아하여 상대적으로 드러나지 않은 감이 있으나 LADY 커버를 통해 부드러운 중저음을, KIDDING의 랩 파트를 맡아 인상적인 저음을 보여주는 등 다른 음역대 보컬로서도 실력이 뛰어나며 이러한 파트를 맡는 일도 많다.</span><br>
                    <span>- 성량이 매우 커 고음에서 꽉 차는 목소리를 들려준다. 평소 대화를 할 때의 목소리도 그만큼 큰 편이다.</span>
                  </div>
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/SLa8fe1Z2XE?si=GcF5qxBpfnEUjvc0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 팬들 사이에서 메인댄서로 자주 거론된다. 이세돌 활동에서도 드러나는 능력으로 RE : WIND 뮤직 비디오나 LOVE DIVE 커버 영상에 쓰인 안무를 모션 캡처를 활용해 다른 멤버들의 몫까지 6인분을 혼자 전부 촬영했으며, 이 모션을 다른 멤버들의 아바타에 덮어쓰기 하는 방식으로 제작되었다.</span><br>
                    <span>- 아이돌 활동 경력이 있어 이세돌 멤버들 중 유일하게 전문적으로 댄스를 배운 멤버이기 때문에 아이솔레이션 등의 다소 기술적인 동작이나 쉽사리 시도하기 어려운 격한 움직임 등이 포함되는 안무도 디테일하고 안정적으로 소화할 수 있으며, 그만큼 춤에 대한 이해력도 높아 KIDDING의 안무와 그 동작을 다른 멤버들에게 직접 설명하며 가르쳐주기도 했다. 또한 필요에 따라 안무 중 일부를 촬영장에서 즉석으로 만들거나 수정할 수도 있고 군무의 동선 역시 스스로 짜는 것이 가능해 이런 점이 활동에 적지 않은 영향을 주었다.</span><br>
                    <span>- 마지막 재회 커버 MV 등에서와 같이 페이셜 캡처를 이용한 표정 연기도 자연스러워 안무나 각종 몸동작에 시각적인 몰입감을 더불어 부여할 수가 있다.</span>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2022년</h2>
                    <span>12월 23일 : <a href="https://www.youtube.com/watch?v=SLa8fe1Z2XE" target="_blank">Dream Again 콘서트</a></span>
                  </div>
                  <div class="year">
                    <h2>2024년</h2>
                    <span>2월 11일 : <a href="https://vod.sooplive.co.kr/player/115972573" target="_blank">LILease 라이브 쇼</a></span><br>
                    <span>7월 12일 / 13일 : <a href="https://namu.wiki/w/LILPACON%20:%20Going%20Out%20-%20SOOPER%20CONCERT" target="_blank">LILPACON : Going Out </a>콘서트</span><br>
                    <span>12월 7일 : <a href="https://namu.wiki/w/Anime%20X%20Game%20Festival%202024" target="_blank">Anime X Game Festival 2024: 에픽세븐 출연</a></span><br>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/lilpa/lil_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>채팅 규칙
                    1. 친목, 과도한 요청 또는 도배 금지<br>
                    2. 개인 신상 및 전생 언급 성희롱 절대 금지<br>
                    3. 방장이 언급 전 타스 언급 금지(이세돌 포함) <중계금지란 소리입니다><br>
                    4. 타 커뮤니티 언급 및 타스랑 비교 금지(이세돌 포함) <br>
                    5. 방송 분위기를 흐리는 언행 금지<br>
                    6. 방장이 허락 전까지 게임 훈수 및 스포성 채팅 모두 금지<br>
                    7. 정치/종교 발언 절대 금지(드립도 포함) <br>
                    8. 다른 방 분위기를 해치는 이모티콘 남용은 금지 <br>
                    9. 이모티콘 20개 이상 사용시 봇이 자동으로 도배처리 (임시차단이므로 당황하지마세요~) <br>
                    10. 링크(URL) 첨부는 요청 할 때만 허용 <br>
                    11. 전투메이드 밈은 아이네언니방의 158 대머리 밈과 흡사한 느낌입니다 하면 목이 잘립수도있습니다! <br>
                    *뇌절 금지 알잘딱 <br>
                    위 규칙들을 지키지 않았을 경우 즉시 밴 혹은 임시차단입니다! 방송 공지는 왁물원을 참고해주세요. <br>
                </div>
              </div>
            </div>`,
            // jururu
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/sv5VaWp0keI?si=KTWJ5Fj9VLl2wVDF" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/jururu/ju_body.png" alt="" style="height: 400px;">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>주르르(JURURU)</h2>
                      <span>출생 : 1997년 6월 10일 (27세)</span><br>
                      <span>거주지 : 부산광역시</span><br>
                      <span>신체 : 162.3cm[3]｜O형｜225mm</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님, 오빠(1989년생), 언니(1994년생)</span><br>
                      <span>반려견 : 반려묘 포리</span>
                      <span>상징색 : 분홍색</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 주폭도</span><br>
                      <span>MBTI : INTP</span><br>
                      <span>별명 : 르르땅, 주폭스, 코튼 등</span>
                      <img src="source/profiles/jururu/ju.webp" alt="" style="width: 140px;  background-color: white; border-radius: 10px;" >
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/@JU_RURU" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>주르르 <br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@UnsealedJURURU">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>봉인 풀린<br> 주르르</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@JURURU_dasibogi">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>주르르 <br> 다시보기</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/cotton1217">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>주르르</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/jururu/jururu.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>콘르르~</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/oRg-7iku6Ok?si=FYZp0mu-ywLzgQ_f" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 높은 톤과 밝은 음색의 목소리를 지닌 보컬로, 이런 점으로 하여금 K-POP 노래와 같은 장르에 자연스럽게 녹아드면서도 자신만의 특색을 보일 수 있는 가창이 가능하다.</span><br>
                    <span>- 특색 있는 목소리를 활용해 팀에서는 곡의 포인트가 될 만한 부분을 주로 담당한다. 감탄사, 나레이션 등 다양한 영역에서 귀에 콕 박히는 부분을 맛깔스럽게 소화한다.</span><br>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2022년</h2>
                    <span>5월 16일 : <a href="https://www.youtube.com/watch?v=wmbN3BPIUbQ" target="_blank">Ju. T'aime</a></span>
                  </div>
                  <div class="year">
                    <h2>2023년</h2>
                    <span>11월 12일 : <a href="https://www.youtube.com/watch?v=y6mnUx580yQ" target="_blank">이세돌 풀더빙 미연시 1탄 (주르르편)</a></span><br>
                    <span>12월 23일 : <a href="https://www.youtube.com/watch?v=hJAXi4Zgm1E&feature=youtu.be" target="_blank">크리스마스 미니 콘서트⛄</a></span><br>
                  </div>
                  <div class="year">
                    <h2>2024년</h2>
                    <span>2월 13일 : <a href="https://www.youtube.com/watch?v=udB06Jvizu4&t=30s" target="_blank">아프리카TV 데뷔 방송</a></span><br>
                    <span>11월 14일 : <a href="https://www.youtube.com/watch?v=6U2WK6mA54U" target="_blank">주르르 연애 시뮬레이션 감독판</a></span><br>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/jururu/ju_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>채팅 규칙<br>
                    🎀 기본 매너와 예의를 지킬 것<br>
                    🎀 신상 정보 질문 X<br>
                    🎀 서로 간의 닉네임 언급 X<br>
                    🎀 타 스트리머 언급 자제 (특히 비교 및 비난 금지)<br>
                    🎀 욕, 뇌절, 과몰입, 물타기 금지<br>
                    🎀 방송요일 랜덤 - 왁물원 이세돌 공지 게시판 봐주시길 바람<br>
                </div>

              </div>
            </div>`,
            // gosegu
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/vWX_kkaw7fk?si=k4FADmDstd17qCdw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/gosegu/go_body.png" alt="" style="height: 400px;">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>고세구(GOSEGU)</h2>
                      <span>출생 : 1998년 (27세)</span><br>
                      <span>거주지 : 인천광역시</span><br>
                      <span>신체 : 	300m｜B형</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님, 남동생</span><br>
                      <span>상징색 : 하늘색</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 세균단</span><br>
                      <span>MBTI : ENTP</span><br>
                      <span>별명 : 세구세구, 고양이, 구스 등</span>
                      <img src="source/profiles/gosegu/go.svg" alt="" style="width: 140px;  background-color: white; border-radius: 10px;" >
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/channel/UCV9WL7sW6_KjanYkUUaIDfQ" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>고세구 <br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/channel/UCSSPlgcyDA5eoN3hrkXpvHg">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>고세구의 <br> 좀 더</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/channel/UCc4qGj6d8LBXW2qZ9GZQWqQ">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>밥 친구 <br> 고세구</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/gosegu2">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>고세구!</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/gosegu/gosegu.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>하이 빵까루~~~!!</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/5qUwMpUWNLQ?si=noiSnZFHuZ1BQkxZ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 맑고 청아한 음색이 특징인 보컬 스타일을 가지고 있으며, 밝고 활기찬 곡부터 중저음이 돋보이는 잔잔한 곡에 이르기까지 다양한 노래를 선보이고 있다.<br> 특유의 음색이 맑고 깨끗해서 듣기 편안하다고 좋아하는 팬들이 많으며, 데뷔곡 RE : WIND에서 가이드 보컬을 담당하였다.</span><br>
                  </div>
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/de1OdGUVRys?si=jxzkvsNeII78hAsS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 또한 성우처럼 노래하는 것에 능한 편으로 호쇼 마린의 Ahoy, 시구레 우이의 로리신 레퀴엠 같은 전파곡과 여러가지 동요도 잘 소화한다.</span><br>
                    <span>- 빠른 노래를 부를 때도 가사가 정확히 들릴 정도로 발음이 정확하다. 농담 반 진담 반으로 이세계아이돌의 랩 담당 멤버로 불리기도 한다</span><br>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2022년</h2>
                    <span>3월 21일 : <a href="https://www.youtube.com/watch?v=KdWPnX7HVCY" target="_blank">시청자 24000명과 함께한 VR 콘서트!</a></span><br>
                    <span>12월 18일 : <a href=https://www.youtube.com/watch?v=78_SbCuAhxA&feature=youtu.be" target="_blank">TOUR</a> 콘서트</span>
                  </div>
                  <div class="year">
                    <h2>2023년</h2>
                    <span>9월 10일 : <a href="https://www.youtube.com/watch?v=foq0NOD_go8&feature=youtu.be" target="_blank">GoReal </a>미니 콘서트</span><br>
                  </div>
                  <div class="year">
                    <h2>2024년</h2>
                    <span>1월 12일 : <a href="https://www.youtube.com/watch?v=ZO2hMSNWtmU" target="_blank">The Predator 2: FLEEKY SYNDROME</a>발매 (TOKYO 피처링)</span><br>
                    <span>2월 11일 : <a href="https://vod.sooplive.co.kr/player/115986767" target="_blank">GOSEGU 미니 콘서트</a></span><br>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/gosegu/go_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>채팅 규칙
                    *벤서비스*<br>
                    -다들 오늘 하루 파이팅~ 웃어요 ^ㅁ^<br>
                    -신상정보 및 정치/종교 발언 금지<br>
                    -친목, 과도한 요청 또는 도배 금지<br>
                    -방송 분위기를 흐리는 언행 금지<br>
                    -타스, 타 커뮤니티 언급 및 비교 금지<br>
                    -중계(타스님께 중계도 포함), 선넘는 발언, 과몰입 금지<br>
                    -스포 및 추측성 물타기, 훈수 금지<br>
                    -병먹금 플리즈<br>
                    -방송공지는 왁물원을 참고해주세요<br>
                    -그외 알잘딱<br>
                </div>
              </div>
            </div>`,
            // viichan
            `<div class="member_info_wrapper">
              <div class="member_info_contain">
              
                <!-- 소개 비디오 -->
                <div class="intro_video">
                  <iframe width="100%" height="100%" src="https://www.youtube.com/embed/w0MblR-fL2M?si=rlY9JZ9uVfgnxokU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                </div>
                  <!-- 기본정보 -->
                <div class="member-summary-detail">
                  <div class="left">
                    <img src="source/profiles/viichan/vi_body.png" alt="" style="height: 400px;">
                  </div>
                  <div class="right">
                    <div class="info">
                      <h2>비챤(VIICHAN)</h2>
                      <span>출생 : 2000년 1월 16일(25세)</span><br>
                      <span>거주지 : 경기도</span><br>
                      <span>신체 : 161cm[6]｜B형</span><br>
                      <span>성별 : 여성</span><br>
                      <span>가족 : 부모님</span><br>
                      <span>반려견 : 체리</span><br>
                      <span>상징색 : 스프링버드 / 진회색 / 코토리 베이지</span><br>
                      <span>소속사 : 패러블 엔터테인먼트[운영]</span><br>
                      <span>소속 그룹 : 이세계아이돌</span><br>
                      <span>데뷔 : 2021년 이세계아이돌 싱글 1집 RE : WIND <br>
                        <pre>         (데뷔일로부터 +1203일, 3주년)</pre>
                      </span>
                      <span>팬덤명 : 라니</span><br>
                      <span>MBTI : ENTJ</span><br>
                      <span>별명 : 챠니, 납작복숭아, 장비챤 등</span>
                      <img src="source/profiles/viichan/vic.webp" alt="" style="width: 140px; background-color: white; border-radius: 5px;">
                    </div>  
                    <div class="platform">
                      <div class="info">
                        <a href="https://www.youtube.com/@viichan116" target="_blank">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>비챤 <br> 유튜브채널</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@viichan_nrna">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>비챤의 <br>나랑놀아</span>
                      </div>
                      <div class="info">
                        <a href="https://www.youtube.com/@viichan_archive">
                          <img src="source/profiles/sns/youtube.svg" alt="">
                        </a>
                        <span>비챤의<br>무릉도원</span>
                      </div>
                      <div class="info">
                        <a href="https://ch.sooplive.co.kr/viichan6">
                          <img src="source/profiles/sns/soop.png" alt="">
                        </a>
                        <span>비챤</span>     
                      </div>
                    </div>

                  </div>
                </div>

                <div class="sum_video">
                  <video src="source/profiles/viichan/viichan.mp4" autoplay loop></video>
                  <div class="greet">
                    <span>하이하이!</span><br>
                    <span>패러블 엔터테인먼트[운영] 소속 6인조 버츄얼 방송인 그룹 이세계아이돌의 멤버. 동시에 SOOP 스트리머이며, 버츄얼 유튜버이다.</span>
                  </div>
                </div>

                <div class="vocal">
                  <div class="ex">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/--Go33WYnqw?si=T-O6G0pNADpFGX2a" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                  </div>
                  <div class="text">
                    <span>- 음색이 굉장히 독특하고 매력적이며 창법의 개성이 강한 보컬이다. 본격적인 노래 공부를 일본 노래로 한 티가 조금 나는데, 고음부에서 허스키하면서도 얇고 예쁜 톤을 유지하면서도 힘이 잘 붙는 편이다. 첫 음을 잡고 들어갈 때나 끝을 마무리할 때 특유의 스타일이 있으며 거슬린다는 느낌 없이 꽤 부드럽게 이어진다. 주로 드러나는 점은 끝 음의 모음을 'ㅣ'로 점점 변화시키는 것인데, 이는 볼빨간사춘기, 10cm의 노래에서 쉽게 들을 수 있는 발음이다.[27] 팬덤인 라니들 사이에선 비챤의 독특한 음색과 창법이 가장 큰 인기 요소로 꼽히는 편이다.</span><br>
                    <span>- 노래를 시작하면서 본인이 부른 노래를 녹음해서 계속 들어가며 연습했는데, 어느 순간 "내 목소리는 이런 소리를 내는 악기구나." 하고 깨달음을 얻은 뒤로 실력이 많이 올랐다고 한다.</span><br>
                    <span>- 이세계아이돌 멤버들 중에서 유일하게 음역이 메조 소프라노다.</span><br>
                    <span>- SOOP 첫방송에서 자신의 포지션을 음색요정 황금막내로 소개했다.</span><br>
                  </div>
                </div>

                <div class="activities">
                  <div class="year">
                    <h2>2024년</h2>
                    <span>2월 11일 : <a href="https://www.youtube.com/watch?v=UIHoQ-4ts38" target="_blank">아프리카 첫방송</a></span><br>
                    <span>8월 3일 : <a href="https://www.youtube.com/live/Ip1WwW0gwf4" target="_blank">역광</a>콘서트</span><br>
                    <span>11월 9일 : <a href="https://www.youtube.com/watch?v=eShncFDtVRw" target="_blank">V급밴드 미니 콘서트</a></span><br>
                  </div>
                </div>

                <div class="subimg">
                  <img src="source/profiles/viichan/vi_sub.png" alt="">
                </div>

                <div class="rule">
                  <h2>방송규칙</h2>
                  <span>채팅 규칙<br>
                    ✦신상정보 및 정치/종교 발언 금지<br>
                    ✦친목, 과도한 요청 또는 도배 금지<br>
                    ✦방송 분위기를 흐리는 언행 금지<br>
                    ✦타 스트리머, 타 커뮤니티 언급 및 비교 금지<br>
                    ✦도배, 중계, 물타기 및 선넘는 발언 금지<br>
                    ✦이모티콘 20개 이상 사용시 도배 처리<br>
                    ✦링크(URL) 첨부는 요청할때만 허용<br>
                    ✦방송공지는 왁물원을 참고해주세요<br>
                    ✦3살, 애기 관련 용어 언급 금지입니다<br>
                </div>

              </div>
            </div>`,
          ]);
          const boards = ref([]);
          const validCategories = ["news", "notice", "free", "suggest"];

          const fetchBoards = async () => {
            const { data, error } = await supabase
              .from("boards")
              .select("*")
              .order("idx", { ascending: true });
            if (error) {
              console.error("Error fetching boards:", error);
            } else if (data) {
              // 기본 그룹: 미리 정의한 네 가지 분류
              const grouped = {
                news: { type: "news", title: "NEWS", posts: [] },
                notice: { type: "notice", title: "공지사항", posts: [] },
                free: { type: "free", title: "자유게시판", posts: [] },
                suggest: { type: "suggest", title: "건의사항", posts: [] },
              };
              data.forEach((item) => {
                // boardKind 값 정제: 공백 제거 및 소문자 변환
                let rawKind = item.boardkind
                  ? item.boardkind.trim().toLowerCase()
                  : "";
                // 유효한 분류가 아니라면 기본값("news")로 설정
                const boardKind = validCategories.includes(rawKind)
                  ? rawKind
                  : "news";
                const subject = item.subject || "제목 없음";
                const writer = item.writer || "작성자 미상";
                const wdate = item.wdate || "날짜 미상";
                const content = item.content || "";

                grouped[boardKind].posts.push({
                  id: item.idx,
                  title: subject,
                  writer: writer,
                  wdate: wdate,
                  content: content,
                });
              });
              boards.value = Object.values(grouped);
            }
          };

          const fullPosts = ref({
            news: [],
            notice: [],
            free: [],
            suggest: [],
          });

          const totalPages = computed(() => {
            const pages = {};
            for (const key in fullPosts.value) {
              pages[key] = Math.ceil(fullPosts.value[key].length / 10);
            }
            return pages;
          });

          // board 종류별 현재 페이지 번호 (초기값 1)
          const currentFullPage = ref({
            news: 1,
            notice: 1,
            free: 1,
            suggest: 1,
          });

          const paginatedFullPosts = computed(() => {
            return {
              news: fullPosts.value.news.slice(
                (currentFullPage.value.news - 1) * 10,
                currentFullPage.value.news * 10
              ),
              notice: fullPosts.value.notice.slice(
                (currentFullPage.value.notice - 1) * 10,
                currentFullPage.value.notice * 10
              ),
              free: fullPosts.value.free.slice(
                (currentFullPage.value.free - 1) * 10,
                currentFullPage.value.free * 10
              ),
              suggest: fullPosts.value.suggest.slice(
                (currentFullPage.value.suggest - 1) * 10,
                currentFullPage.value.suggest * 10
              ),
            };
          });

          const fetchFullPosts = async () => {
            const { data, error } = await supabase
              .from("boards")
              .select("*")
              .order("idx", { ascending: true });
            if (error) {
              console.error("Error fetching full posts:", error);
            } else if (data) {
              // fullPosts의 경우도 네 가지 분류를 미리 정의
              const grouped = {
                news: [],
                notice: [],
                free: [],
                suggest: [],
              };
              data.forEach((item) => {
                let rawKind = item.boardkind
                  ? item.boardkind.trim().toLowerCase()
                  : "";
                const boardKind = validCategories.includes(rawKind)
                  ? rawKind
                  : "news";
                const subject = item.subject || "제목 없음";
                const writer = item.writer || "작성자 미상";
                const wdate = item.wdate || "날짜 미상";
                const content = item.content || "";

                grouped[boardKind].push({
                  id: item.idx,
                  title: subject,
                  writer: writer,
                  wdate: wdate,
                  content: content,
                });
              });
              fullPosts.value = grouped;
            }
          };
          const fetchSliders = async () => {
            const { data, error } = await supabase.from("sliders").select("*");
            if (error) {
              console.error("슬라이더 데이터 로드 에러:", error);
            } else {
              // Supabase에서 가져온 배열 전체를 sliders에 저장
              sliders.value = data;
              // DOM 갱신 후 Swiper 초기화 (v-for로 렌더링 완료 후)
              nextTick(() => {
                new Swiper(".main_banner", {
                  autoplay: { delay: 5000, disableOnInteraction: false },
                  loop: sliders.value.length > 1, // 슬라이드가 1개 이상일 때만 루프 활성화
                  slidesPerView: 1,
                  slidesPerGroup: 1,
                  pagination: { el: ".swiper-pagination", clickable: true },
                  navigation: {
                    nextEl: ".swiper-button-next",
                    prevEl: ".swiper-button-prev",
                  },
                });
              });
            }
          };

          // 앨범 데이터 가져오기
          const fetchAlbums = async () => {
            const { data, error } = await supabase
              .from("albums")
              .select("*")
              .order("idx", { ascending: true });
            if (error) {
              console.error("앨범 데이터 로드 에러:", error);
            } else {
              // Supabase에서 가져온 배열 전체를 albums에 저장
              albums.value = data;
              console.log(albums);
            }
          };

          // videoThumbnails 데이터를 가져와 videoCards의 defaultImg를 업데이트하는 함수 추가
          const fetchVideoThumbnails = async () => {
            const { data, error } = await supabase
              .from("videothumbnails")
              .select("*")
              .order("idx", { ascending: true });
            if (error) {
              console.error("Error fetching video thumbnails:", error);
            } else if (data) {
              // 각 videoCard의 인덱스와 videoThumbnails의 idx가 1부터 시작한다고 가정
              data.forEach((record) => {
                const idx = record.idx; // 1-based index
                if (videoCards.value[idx - 1]) {
                  videoCards.value[idx - 1].defaultImg = record.img;
                }
              });
            }
          };

          // 1. 특정 플레이리스트의 mp3파일 배열 생성 (기본값: idx 1)
          const fetchPlaybarPlaylist = async (playlistId) => {
            const { data: plData, error: plError } = await supabase
              .from("playlists")
              .select("*")
              .eq("idx", playlistId)
              .single();
            if (plError) {
              console.error("플레이리스트 로드 에러:", plError);
            } else if (plData) {
              const playListArr = plData.play_list;
              const { data: songsData, error: sError } = await supabase
                .from("songs")
                .select("idx, mp3file, thumbnail, title, artist")
                .in("idx", playListArr);
              if (sError) {
                console.error("노래 mp3파일 조회 에러:", sError);
              } else {
                // playListArr 순서에 맞게 songsData 정렬
                const sortedSongs = playListArr.map((songIdx) =>
                  songsData.find((s) => s.idx === songIdx)
                );
                // mp3파일 URL 배열 업데이트 (추후 다른 곳에서 참조할 경우)
                playbarPlaylist.value = sortedSongs.map((song) =>
                  song ? song.mp3file : null
                );
                currentSongIndex.value = 0;
                // 좌측에 출력할 전체 song 데이터를 저장
                currentPlaylist.value = { songs: sortedSongs };
                console.log("currentPlaylist:", currentPlaylist.value);
                playCurrentSong();
              }
            }
          };




          // Playbar 데이터 및 오디오 객체
          const audio = new Audio(); // 초기 src 없이 생성
          const playbarPlaylist = ref([]); // mp3파일 URL 배열
          const currentSongIndex = ref(0);
          const isPlaying = ref(false);
          const progress = ref(0);
          const volume = ref(50);
          const repeatMode = ref(false);
          const randomMode = ref(false);

          // initFooterAnimation 함수: footer가 뷰포트에 보이면 isFooterVisible 업데이트
          const initFooterAnimation = () => {
            const observer = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) isFooterVisible.value = true;
                });
              },
              { threshold: 0.5 }
            );
            const footerEl = document.querySelector("footer");
            if (footerEl) observer.observe(footerEl);
          };

          // 페이지 전환 함수 (DOM 업데이트 후 초기화)
          const switchPage = (page) => {
            currentPage.value = page;
            nextTick(() => {
              if (page === "page-main") {
                initMainPage();
              } else if (page === "page-member") {
                initMemberPage();
              } else if (page === "page-board") {
                initBoardPage();
              } else if (page === "page-playlist") {
                initPlaylistPage();
              } else if (page.startsWith("page-board-full-")) {
                initFullBoardPage(page);
              } else if (page === "page-playlist-all") {
                fetchSelectedPlaylistSongs();
              }
            });
          };

          // 로딩 페이지 초기화
          const initLoadingPage = () => {
            document.body.style.overflow = "hidden";
            gsap.fromTo(
              ".loading-logo",
              { y: -200, opacity: 0 },
              { y: 0, opacity: 1, duration: 1.5, ease: "power2.out" }
            );
            let currentPercent = 0;
            const interval = setInterval(() => {
              currentPercent += Math.random() * 10;
              if (currentPercent >= 100) {
                currentPercent = 100;
                clearInterval(interval);
                switchPage("page-main");
                document.body.style.overflow = "";
              }
              loadingPercent.value = Math.floor(currentPercent);
            }, 0);
            // 로딩 페이지 속도
          };

          // Main 페이지 초기화 (Swiper, Song Icons, Member Icon, Video, Footer, Playbar)
          const initMainPage = () => {
            initSongIcons();
            initMemberIcon();
            fetchVideoThumbnails();
            initVideo();
            initFooterAnimation();
            initPlaybar();
            fetchSliders();
          };

          // Song Icons 초기화
          const initSongIcons = () => {
            const songIcons = document.getElementById("song-icons");
            if (songIcons) {
              songIcons.addEventListener("mouseenter", showSongTitles);
              songIcons.addEventListener("mouseleave", hideSongTitles);
            }
          };

          // Member Icon 초기화 (Vue의 @click 처리)
          const initMemberIcon = () => {};

          // 수정된 Video 초기화 (Vue 환경에서 nextTick 후 DOM 접근)
          const initVideo = () => {
            nextTick(() => {
              const videoContainer = document.getElementById("video-container");
              if (!videoContainer) return;
              const videoCardNodes = Array.from(
                videoContainer.querySelectorAll(".video-card")
              );
              const closeBtn = document.getElementById("video-close-btn");
              let activeCard = null;

              function isMobile() {
                return window.innerWidth <= 768;
              }

              function resetGridStyles() {
                videoCardNodes.forEach((card) => {
                  card.classList.remove(
                    "active",
                    "hidden",
                    "float-animation",
                    "animate"
                  );
                  card.style.removeProperty("width");
                  card.style.removeProperty("height");
                  card.style.removeProperty("line-height");
                  card.style.removeProperty("left");
                  card.style.removeProperty("top");
                  card.style.removeProperty("transform");
                });
              }

              function setVideoCardPositions() {
                const containerWidth = videoContainer.clientWidth;
                const cardSize = 200;
                const rowTops = [50, 220, 450];
                const rows = { 0: [], 1: [], 2: [] };
                videoCardNodes.forEach((card, idx) => rows[idx % 3].push(card));
                Object.keys(rows).forEach((rowIndex) => {
                  const cards = rows[rowIndex];
                  const minGap = cardSize;
                  let left1 =
                    Math.random() * (containerWidth - cardSize * 2 - minGap);
                  let left2 =
                    left1 +
                    cardSize +
                    minGap +
                    Math.random() *
                      (containerWidth - left1 - cardSize - minGap - cardSize);
                  if (Math.random() > 0.5) [left1, left2] = [left2, left1];
                  if (cards[0])
                    cards[0].style.cssText = `left: ${left1}px; top: ${rowTops[rowIndex]}px; width: ${cardSize}px; height: ${cardSize}px; line-height: ${cardSize}px; transform: translateY(30px);`;
                  if (cards[1])
                    cards[1].style.cssText = `left: ${left2}px; top: ${rowTops[rowIndex]}px; width: ${cardSize}px; height: ${cardSize}px; line-height: ${cardSize}px; transform: translateY(30px);`;
                });
              }

              if (isMobile()) resetGridStyles();
              else {
                setVideoCardPositions();
                const onScroll = () => {
                  const videoRect = videoContainer.getBoundingClientRect();
                  if (
                    videoRect.top <
                    window.innerHeight - videoContainer.clientHeight / 5
                  ) {
                    videoCardNodes.forEach((card) => {
                      if (!card.classList.contains("animate")) {
                        card.classList.add("animate");
                        setTimeout(
                          () => card.classList.add("float-animation"),
                          500
                        );
                      }
                    });
                    window.removeEventListener("scroll", onScroll);
                  }
                };
                window.addEventListener("scroll", onScroll);
              }

              videoCardNodes.forEach((card) => {
                card.addEventListener("click", () => {
                  if (activeCard) return;
                  activeCard = card;
                  videoCardNodes.forEach((c) => {
                    if (c !== card) c.classList.add("hidden");
                  });
                  card.classList.remove("float-animation");
                  card.classList.add("active");
                  card.style.transition = "all 0.5s ease";
                  if (isMobile()) {
                    card.style.width = `${videoContainer.clientWidth}px`;
                    card.style.height = `${videoContainer.clientHeight}px`;
                    card.style.lineHeight = `${videoContainer.clientHeight}px`;
                  } else {
                    const targetWidth = videoContainer.clientWidth * 0.8;
                    const targetHeight = videoContainer.clientHeight * 0.8;
                    card.style.left = `${
                      (videoContainer.clientWidth - targetWidth) / 2
                    }px`;
                    card.style.top = `${
                      (videoContainer.clientHeight - targetHeight) / 2
                    }px`;
                    card.style.width = `${targetWidth}px`;
                    card.style.height = `${targetHeight}px`;
                    card.style.lineHeight = `${targetHeight}px`;
                  }
                  closeBtn.classList.add("show");
                });
              });

              closeBtn.addEventListener("click", () => {
                if (!activeCard) return;
                activeCard.classList.remove("active");
                activeCard.style.transition = "all 0.5s ease";
                if (isMobile()) {
                  videoCardNodes.forEach((card) => {
                    card.classList.remove("hidden");
                    card.style.removeProperty("width");
                    card.style.removeProperty("height");
                    card.style.removeProperty("line-height");
                  });
                } else {
                  setVideoCardPositions();
                  videoCardNodes.forEach((c) => c.classList.remove("hidden"));
                }
                closeBtn.classList.remove("show");
                activeCard = null;
              });
            });
          };

          // Video 섹션 이벤트 핸들러 (추가 Vue 처리 필요 시)
          const onVideoCardClick = (index) => {
            // initVideo 내 이벤트 등록으로 별도 처리 없음.
            if (activeVideoCard.value !== null) return; // 이미 활성화된 카드가 있으면 무시
            activeVideoCard.value = index;
            videoCards.value[index].showVideo = true;
          };

          const onCloseVideoCard = () => {
            // initVideo 내 이벤트 등록으로 별도 처리 없음.
            if (activeVideoCard.value !== null) {
              videoCards.value[activeVideoCard.value].showVideo = false;
              activeVideoCard.value = null;
            }
          };

          // Song Icons 기능
          const showSongTitles = () => {
            isSongTitlesVisible.value = true;
          };

          const hideSongTitles = () => {
            isSongTitlesVisible.value = false;
          };

          // Member Detail 기능
          const showMemberDetail = (index) => {
            const member = members.value.find((m) => m.index === index);
            memberImages.value = [member.img1, member.img2, member.img3];
            memberInfo.value = member.info.replace(/\n/g, "<br>");
            showDetail.value = true;
          };

          const hideMemberDetail = () => {
            showDetail.value = false;
          };

          // Member Slider 기능
          const initMemberPage = () => {
            initMemberSlider();
            fetchAlbums();
          };

          function initMemberSlider() {
            const slider = document.querySelector("#member-slider");
            if (!slider) return;
            const cards = slider.querySelectorAll(".member-slider-card");
            if (!cards.length) return;
            // 카드 너비: 첫 번째 카드의 너비에 margin-right(10px)를 포함
            const cardWidth = cards[0].offsetWidth + 10;
            const totalCards = cards.length;
            const positions = [];
            // 각 카드의 초기 위치 설정
            cards.forEach((card, index) => {
              positions[index] = index * cardWidth;
              card.style.transform = `translateX(${positions[index]}px)`;
            });

            let speed = 0.5; // 프레임당 이동 픽셀 수 (속도 조절 가능)
            let isPaused = false;

            // 마우스 오버 시 애니메이션 정지
            slider.addEventListener("mouseenter", () => {
              isPaused = true;
            });
            slider.addEventListener("mouseleave", () => {
              isPaused = false;
            });

            // 애니메이션 루프: 각 카드의 위치를 업데이트하고, 카드가 왼쪽 끝을 벗어나면 오른쪽 끝으로 재배치
            function animate() {
              if (!isPaused) {
                for (let i = 0; i < totalCards; i++) {
                  positions[i] -= speed;
                  if (positions[i] < -cardWidth) {
                    positions[i] += cardWidth * totalCards;
                  }
                  cards[i].style.transform = `translateX(${positions[i]}px)`;
                }
              }
              requestAnimationFrame(animate);
            }
            animate();
          }

          const toggleMemberSliderCard = (index) => {
            memberSliderCards.value[index].videoMode =
              !memberSliderCards.value[index].videoMode;
          };

          const showMemberInfo = (index) => {
            activeMemberInfo.value = index;
          };

          // Board 페이지 기능
          const initBoardPage = () => {
            fetchBoards();
          };

          const showPostModal = (post) => {
            modalTitle.value = post.title;
            modalMeta.value = `작성자: ${post.writer} | 작성일자: ${post.wdate}`;
            modalBody.value = post.content;
            isModalActive.value = true;
          };

          const closeModal = () => {
            isModalActive.value = false;
          };

          const showFullBoard = (type) => {
            switchPage(`page-board-full-${type}`);
          };

          // Full Board 페이지 기능
          const initFullBoardPage = (pageId) => {
            fetchFullPosts();
          };

          const changePage = (type, page) => {
            currentFullPage.value[type] = page;
          };

          // Playlist 페이지 기능
          const initPlaylistPage = () => {
            fetchPlaylists();
          };

          // Playbar 기능
          const initPlaybar = () => {
            audio.volume = volume.value / 100;
            audio.addEventListener("timeupdate", updateProgress);
            audio.addEventListener("ended", nextSong);
          };

          const updateProgress = () => {
            const current = audio.currentTime;
            currentTime.value = current;
            const duration = audio.duration || 216;
            progress.value = (current / duration) * 100;
          };

          const elapsedTime = computed(() => {
            const current = currentTime.value;
            const minutes = Math.floor(current / 60);
            const seconds = Math.floor(current % 60);
            return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
          });

          const remainingTime = computed(() => {
            const duration = audio.duration || 216;
            const current = currentTime.value;
            const remaining = duration - current;
            const minutes = Math.floor(remaining / 60);
            const seconds = Math.floor(remaining % 60);
            return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
          });

          const playPauseIcon = computed(() =>
            isPlaying.value ? "source/pause.png" : "source/play.png"
          );
          const randomIcon = computed(() =>
            randomMode.value
              ? "source/shuffle-active.png"
              : "source/shuffle.png"
          );
          const repeatIcon = computed(() =>
            repeatMode.value ? "source/repeat-active.png" : "source/repeat.png"
          );

          const togglePlayPause = () => {
            if (isPlaying.value) {
              audio.pause();
            } else {
              audio.play();
            }
            isPlaying.value = !isPlaying.value;
          };

          // 2. 재생 함수 및 prev/next 함수
          const playCurrentSong = () => {
            if (
              currentPlaylist.value &&
              currentPlaylist.value.songs &&
              currentPlaylist.value.songs.length > 0
            ) {
              // mp3file 앞에 "source/mp3/" 경로를 붙여서 audio.src에 할당
              audio.src =
                "source/mp3/" +
                currentPlaylist.value.songs[currentSongIndex.value].mp3file;
              console.log('current : ' + currentPlaylist.value.songs[currentSongIndex.value].mp3file);
              audio.play()
                .then(() => {
                  isPlaying.value = true;
                })
                .catch((err) => console.error("Audio play error:", err));
            }
          };



          const prevSong = () => {
            if (currentSongIndex.value > 0) {
              currentSongIndex.value--;
              playCurrentSong();
            }
          };

          const nextSong = () => {
            if (currentSongIndex.value < playbarPlaylist.value.length - 1) {
              currentSongIndex.value++;
              playCurrentSong();
            }
          };

          // 3. playlistAll 페이지에서 노래 클릭 시 playbar 업데이트 및 재생 시작
          const playSongFromPlaylist = (index) => {
            if (selectedPlaylistSongs.value && selectedPlaylistSongs.value.length > 0) {
              // 현재 선택한 플레이리스트의 노래 목록으로 currentPlaylist 업데이트
              currentPlaylist.value = { songs: selectedPlaylistSongs.value };
              currentSongIndex.value = index;
              playbarPlaylist.value = selectedPlaylistSongs.value.map(
                (song) => "source/mp3/" + song.mp3file
              );
              playCurrentSong();
            }
          };

          const isRandomMode = ref(false);

          // 랜덤 재생 기능: playbarPlaylist 배열을 Fisher-Yates 알고리즘으로 무작위 섞기
          function shuffleArray(array) {
            let newArray = array.slice();
            for (let i = newArray.length - 1; i > 0; i--) {
              const j = Math.floor(Math.random() * (i + 1));
              [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
          }

          const originalPlaylistSongs = ref([]);


          // 수정된 toggleRandom 함수: 클릭 시 currentPlaylist.songs를 셔플하고, playbarPlaylist를 재구성합니다.
          const toggleRandom = () => {
            isRandomMode.value = !isRandomMode.value;
            if (isRandomMode.value) {
              // 원본 순서가 아직 저장되지 않았다면 저장
              if (!originalPlaylistSongs.value.length && currentPlaylist.value && currentPlaylist.value.songs) {
                originalPlaylistSongs.value = currentPlaylist.value.songs.slice();
              }
              if (currentPlaylist.value && currentPlaylist.value.songs) {
                const shuffledSongs = shuffleArray(currentPlaylist.value.songs);
                currentPlaylist.value.songs = shuffledSongs;
                playbarPlaylist.value = shuffledSongs.map(song => {
                  return {
                    mp3file: song.mp3file,
                    title: song.title,
                    thumbnail: song.thumbnail,
                    artist: song.artist && song.artist.name ? song.artist.name : "Unknown Artist"
                  };
                });
                currentSongIndex.value = 0;
                playCurrentSong();
              }
            } else {
              // 랜덤 모드 해제 시 원본 순서를 복원
              if (originalPlaylistSongs.value.length && currentPlaylist.value) {
                currentPlaylist.value.songs = originalPlaylistSongs.value.slice();
                playbarPlaylist.value = originalPlaylistSongs.value.map(song => {
                  return {
                    mp3file: song.mp3file,
                    title: song.title,
                    thumbnail: song.thumbnail,
                    artist: song.artist && song.artist.name ? song.artist.name : "Unknown Artist"
                  };
                });
                currentSongIndex.value = 0;
                playCurrentSong();
              }
            }
          };

          const toggleRepeat = () => {
            repeatMode.value = !repeatMode.value;
            audio.loop = repeatMode.value;
          };

          const seek = () => {
            const duration = audio.duration || 216;
            audio.currentTime = (progress.value / 100) * duration;
          };

          const setVolume = () => {
            audio.volume = volume.value / 100;
          };

          onMounted(() => {
            initLoadingPage();
            if (currentPage.value === "page-member") {
              initMemberSlider();
            }
            fetchPlaybarPlaylist(1);
          });

          return {
            awardCards,
            selectedPlaylistIdx,
            selectedPlaylistSongs,
            currentPage,
            loadingPercent,
            showDetail,
            memberImages,
            memberInfo,
            isSongTitlesVisible,
            isFooterVisible,
            isModalActive,
            modalTitle,
            modalMeta,
            modalBody,
            activeVideoCard,
            activeMemberInfo,
            members,
            songs,
            videoCards,
            memberSliderCards,
            memberIcons,
            memberInfos,
            boards,
            validCategories,
            fullPosts,
            totalPages,
            currentFullPage,
            paginatedFullPosts,
            progress,
            volume,
            elapsedTime,
            remainingTime,
            playPauseIcon,
            randomIcon,
            repeatIcon,
            sliders,
            albums,
            activeVideoCard,
            playlists,
            currentPlaylist,
            isPlaylistEditModalActive,
            isPlaylistAddModalActive,
            currentSongIndex,
            isRandomMode,
            originalPlaylistSongs,
            shuffleArray,
            fetchPlaylists,
            goToPlaylistPage,
            viewPlaylistAll,
            openPlaylistAddModal,
            closePlaylistAddModal,
            openPlaylistEditModal,
            closePlaylistEditModal,
            switchPage,
            showMemberDetail,
            hideMemberDetail,
            showSongTitles,
            hideSongTitles,
            onVideoCardClick,
            onCloseVideoCard,
            toggleMemberSliderCard,
            showMemberInfo,
            showPostModal,
            closeModal,
            showFullBoard,
            changePage,
            togglePlayPause,
            prevSong,
            nextSong,
            toggleRandom,
            toggleRepeat,
            seek,
            setVolume,
            onVideoCardClick,
            onCloseVideoCard,
            playSongFromPlaylist,
            fetchSelectedPlaylistSongs
          };
        },
      }).mount("#app");
    </script>
  </body>
</html>